# **项目环境运行文档**

## **云服务器环境版本**

单机版资料下载地址： [资料地址](https://pan.baidu.com/s/1EdBGDC8z5DmuO1bQA8MGAw?pwd=33eq) 全部在这里

单机版前后端所有内容都在这里

git版本代码：

图灵电商单机版 ： https://gitee.com/tearwind/tlmall-v5-single

图灵电商单机版-管理后台： https://gitee.com/tearwind/mall-admin-web

图灵电商单机版-商城前台： https://gitee.com/tearwind/tlmall-front



**PS：** **redis链接不稳定属于正常情况 建议人少时间段链接** 

## **项目环境 ：**

教师端提供环境有： redis集群（5.0），RocketMQ（4.0），mongodb（2），ES（7.6.1），详细文档： [学员测试环境信息](https://docs.qq.com/sheet/DUWFjZEhaaU5qT0pi?tab=BB08J2)

学员端需要准备：mysql（8.0），nacos（1.4.3）

​	准备原因：每位学员有不同的数据为了防止数据冲突数据存储端由学员自行搭建

### **搭建教程：**

**mysql nacos  nginx 都是单机即可**

​	都在项目[资料地址](https://pan.baidu.com/s/1EdBGDC8z5DmuO1bQA8MGAw?pwd=33eq)里面有

​	mysql：https://blog.csdn.net/m0_67402236/article/details/126035913

​	ncaos：[地址](http://note.youdao.com/noteshare?id=1d1d46feb6ea71fc0cc7d00d477037ee&sub=B2D587DD51884BCE826D09536F567629)   nacos用的1.4.3  [1.4.3下载地址](https://github.com/alibaba/nacos/releases/download/1.4.3/nacos-server-1.4.3.zip)

使用教程：

数据库文件 

导入[数据库数据](https://pan.baidu.com/s/1371CvraywYF-F7IMyFSEtg?pwd=lmp6) 每个库名为sql文件文件名（项目采用分库分表方式进行）

nacos：直接[导入配置](https://pan.baidu.com/s/11YgxIWI_A0oFvz-dAytIqQ?pwd=bhgk)即可 

node js： [下载地址](https://pan.baidu.com/s/1PR0TVNBBhgLovwmrH86BeQ?pwd=cl15)

![img](https://img.jssjqd.cn//AgAACJ_tMFBJeNkvUg9F_LEN1sGrG78N.png)

![img](https://img.jssjqd.cn//AgAACJ_tMFCF5M39hK5PhJ0x_v2VhZPD.png)

# **自行运行镜像文件版本**

镜像文件为VMDK文件 即 vm虚拟机文件 虚拟机配置最低要求 4核心8G内存

文件存储位置：

### 	**es地址：**

es启动 ： es kibanna启动请用tlbaiqi账号 密码：zhuangzhou

![img](https://img.jssjqd.cn//AgAACJ_tMFADWv9-wRtEl7l6ZWPks4bB.png)在当前目录下执行

记得用es角色运行



```
#es 用户密码zhuangzhou
su es 
```







```
./bin/elasticsearch &
```





配置文件在7.6.1的目录内

![img](https://img.jssjqd.cn//AgAACJ_tMFD4XuGpYZhJ0aBm3Tkm80qO.png)

修改项目：![img](https://img.jssjqd.cn//AgAACJ_tMFBej5Q4hwpK3J6uQHtSFPFh.png)

### 	**redis地址：**

![img](https://img.jssjqd.cn//AgAACJ_tMFCQtDUWMKFMFIBVGPZB7ChV.png)

redis 修改配置项目比较多少

![img](https://img.jssjqd.cn//AgAACJ_tMFBJckV0qohBrInPpzx4tPxV.png)

这个几个文件内的 nodes-*文件全部删除 后重启redis 搭建集群即可

集群命令： ip 替换成自己的ip即可



```
src/redis-cli --cluster create  ip:8003 ip:8001 ip:8002 ip:8004 ip:8005 ip:8006 --cluster-replicas 1
```





### 	**mongodb地址：**![img](https://img.jssjqd.cn//AgAACJ_tMFD-H9tsO-ZCe7paS_zj3742.png)

​		配置请在宝塔页面进行修改

​			宝塔端口8888 账户123456 密码123456

### 	**RocketMQ地址：**

在docker 中 启动对应容器即可

配置在此处请千万记得修改：

![img](https://img.jssjqd.cn//AgAACJ_tMFBXPkROgttIYaf3uMD6kFmv.png)

修改项目![img](https://img.jssjqd.cn//202304260121464.png)

## **模块说明**

tulingmall-admin 后台管理程序 

tulingmall-authcenter 认证中心程序 

tulingmall-cart 购物车程序 

tulingmall-common 通用模块，被其他程序以jar包形式使用 

tulingmall-core 四期遗留模块，主要包含model的声明，被其他程序以jar包形式使用 

tulingmall-gateway 网关程序 

tulingmall-member 用户管理程序 

tulingmall-order-curr 订单程序 

tulingmall-order-history 历史订单处理程序

tulingmall-portal 商城首页入口程序 

tulingmall-product 商品管理程序 

tulingmall-promotion 促销管理程序

tulingmall-redis-comm 缓存模块，被其他程序以jar包形式使用

tulingmall-redis-multi 多源缓存模块，被其他程序以jar包形式使用

tulingmall-search 商品搜索程序 

tulingmall-security 安全模块，被其他程序以jar包形式使用 

tulingmall-sk-cart 秒杀确认单处理

tulingmall-sk-order 秒杀订单处理

tulingmall-unqid 分布式ID生成程序 

## **关键服务建议启动顺序**

tulingmall-unqid、tulingmall-member、tulingmall-product、tulingmall-cart

tulingmall-promotion、tulingmall-authcenter

tulingmall-order-curr、tulingmall-portal、tulingmall-gateway

## **doc目录说明**

htmljss 秒杀静态网页、JS文件、CSS文件等

nginx 秒杀nginx配置、Lua脚本、第三方Lua库

##  **本地运行**

商城在本地运行需要本地存在MySQL、Nacos、等基础服务

秒杀系统牵涉较复杂，暂不提供本地完整运行版本