<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.8" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.26" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <title>RabbitMQä¸Šæ‰‹ä»¥åŠé›†ç¾¤æ¶æ„</title><meta name="description" content="">
    <link rel="preload" href="/assets/style-CV-aSyL0.css" as="style"><link rel="stylesheet" href="/assets/style-CV-aSyL0.css">
    <link rel="modulepreload" href="/assets/app-CcJZcE5q.js"><link rel="modulepreload" href="/assets/index.html-o-IA65eG.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/assets/index.html-CySwgr6W.js" as="script"><link rel="prefetch" href="/assets/index.html-DIQ6wV2c.js" as="script"><link rel="prefetch" href="/assets/index.html-DA9ZST6q.js" as="script"><link rel="prefetch" href="/assets/index.html-B1qwKQDM.js" as="script"><link rel="prefetch" href="/assets/index.html-QtYXnaPY.js" as="script"><link rel="prefetch" href="/assets/index.html-BoWZ1hiX.js" as="script"><link rel="prefetch" href="/assets/index.html-D1eqxnz4.js" as="script"><link rel="prefetch" href="/assets/index.html-Bkd8jpbq.js" as="script"><link rel="prefetch" href="/assets/index.html-CaPpN9fA.js" as="script"><link rel="prefetch" href="/assets/é˜¿é‡Œäº‘é¢è¯•é¢˜.html-BdFdwHHT.js" as="script"><link rel="prefetch" href="/assets/index.html-Dar6C79p.js" as="script"><link rel="prefetch" href="/assets/index.html-3LHzgUol.js" as="script"><link rel="prefetch" href="/assets/index.html-CNyrWvjP.js" as="script"><link rel="prefetch" href="/assets/index.html-tMJw4xAU.js" as="script"><link rel="prefetch" href="/assets/index.html-BBna-ubM.js" as="script"><link rel="prefetch" href="/assets/index.html-CQDrMRFa.js" as="script"><link rel="prefetch" href="/assets/index.html-BHHkC0SB.js" as="script"><link rel="prefetch" href="/assets/index.html-BT27OHXI.js" as="script"><link rel="prefetch" href="/assets/index.html-Ph_N0RhT.js" as="script"><link rel="prefetch" href="/assets/index.html-C0SZgDj-.js" as="script"><link rel="prefetch" href="/assets/index.html-COW2J1ah.js" as="script"><link rel="prefetch" href="/assets/index.html-CwlZk0kb.js" as="script"><link rel="prefetch" href="/assets/index.html-mOUgrTfQ.js" as="script"><link rel="prefetch" href="/assets/index.html-StCMFG4Y.js" as="script"><link rel="prefetch" href="/assets/index.html-pkZ_qPdt.js" as="script"><link rel="prefetch" href="/assets/index.html-meFoXNUk.js" as="script"><link rel="prefetch" href="/assets/index.html-D6UDt-z1.js" as="script"><link rel="prefetch" href="/assets/index.html-C4CeTDFP.js" as="script"><link rel="prefetch" href="/assets/index.html-DJOa7j38.js" as="script"><link rel="prefetch" href="/assets/index.html-u2YQwqCK.js" as="script"><link rel="prefetch" href="/assets/index.html-BoiC8F1t.js" as="script"><link rel="prefetch" href="/assets/index.html-CSq9YTr5.js" as="script"><link rel="prefetch" href="/assets/index.html-Cyr0Ht9E.js" as="script"><link rel="prefetch" href="/assets/index.html-CpAXHyhZ.js" as="script"><link rel="prefetch" href="/assets/index.html-DLvEiH8j.js" as="script"><link rel="prefetch" href="/assets/index.html-DfVjwGrn.js" as="script"><link rel="prefetch" href="/assets/index.html-BhnlQTe0.js" as="script"><link rel="prefetch" href="/assets/index.html-B3Q99jzV.js" as="script"><link rel="prefetch" href="/assets/index.html-C_jS85gJ.js" as="script"><link rel="prefetch" href="/assets/index.html-DTuYMkqZ.js" as="script"><link rel="prefetch" href="/assets/index.html-ByDsocQC.js" as="script"><link rel="prefetch" href="/assets/index.html-Dx60V46q.js" as="script"><link rel="prefetch" href="/assets/index.html-B2169YvJ.js" as="script"><link rel="prefetch" href="/assets/index.html-u7yWxVkO.js" as="script"><link rel="prefetch" href="/assets/index.html-BAcuX6ex.js" as="script"><link rel="prefetch" href="/assets/index.html-CKFJiaUe.js" as="script"><link rel="prefetch" href="/assets/index.html-BQolQXiO.js" as="script"><link rel="prefetch" href="/assets/index.html-CV5OM5nX.js" as="script"><link rel="prefetch" href="/assets/index.html-edSgNf-M.js" as="script"><link rel="prefetch" href="/assets/index.html-BfO_EaOy.js" as="script"><link rel="prefetch" href="/assets/index.html-nyRG_LTF.js" as="script"><link rel="prefetch" href="/assets/index.html-D-frKFlo.js" as="script"><link rel="prefetch" href="/assets/00.åˆ†å¸ƒå¼äº‹åŠ¡ç»„ä»¶Seata.html-Cpl05HCa.js" as="script"><link rel="prefetch" href="/assets/index.html-Cq20v4BB.js" as="script"><link rel="prefetch" href="/assets/index.html-BVORs3On.js" as="script"><link rel="prefetch" href="/assets/index.html-BP6aZUE6.js" as="script"><link rel="prefetch" href="/assets/index.html-B-3_fbg6.js" as="script"><link rel="prefetch" href="/assets/index.html-CpJC_HeG.js" as="script"><link rel="prefetch" href="/assets/index.html-DjnTf6fe.js" as="script"><link rel="prefetch" href="/assets/06.MySQLäº‹åŠ¡åŸç†ä¸ä¼˜åŒ–æœ€ä½³å®è·µ.html-D7z1G1-N.js" as="script"><link rel="prefetch" href="/assets/07.MySQLé”æœºåˆ¶ä¸ä¼˜åŒ–å®è·µä»¥åŠMVCCåº•å±‚åŸç†å‰–æ.html-BKAa643F.js" as="script"><link rel="prefetch" href="/assets/index.html-CxmzedXX.js" as="script"><link rel="prefetch" href="/assets/index.html-Dzfk79WX.js" as="script"><link rel="prefetch" href="/assets/index.html-Dn63XTEd.js" as="script"><link rel="prefetch" href="/assets/index.html-CzdtGl0g.js" as="script"><link rel="prefetch" href="/assets/index.html-9PiiOmcM.js" as="script"><link rel="prefetch" href="/assets/index.html-BmA5G_Wx.js" as="script"><link rel="prefetch" href="/assets/20.ShardingJDBCæºç ä¸å†…æ ¸è§£æ.html-DuPwqrAu.js" as="script"><link rel="prefetch" href="/assets/index.html-BQ7HKii8.js" as="script"><link rel="prefetch" href="/assets/index.html-Ba0Idv51.js" as="script"><link rel="prefetch" href="/assets/index.html-joJLtsXk.js" as="script"><link rel="prefetch" href="/assets/index.html-L8Hlw6sX.js" as="script"><link rel="prefetch" href="/assets/index.html-C8_gL8dh.js" as="script"><link rel="prefetch" href="/assets/index.html-6Tc1Q6ZE.js" as="script"><link rel="prefetch" href="/assets/index.html-VO0-ALK9.js" as="script"><link rel="prefetch" href="/assets/index.html-BPdXD1cL.js" as="script"><link rel="prefetch" href="/assets/index.html-j-8Qjm4N.js" as="script"><link rel="prefetch" href="/assets/index.html-Dz_Qhpe9.js" as="script"><link rel="prefetch" href="/assets/index.html-CcaTKqjZ.js" as="script"><link rel="prefetch" href="/assets/index.html-y0YOCSWX.js" as="script"><link rel="prefetch" href="/assets/index.html-BdP5ezWY.js" as="script"><link rel="prefetch" href="/assets/index.html-C6GUmZlK.js" as="script"><link rel="prefetch" href="/assets/index.html-zkImwKAM.js" as="script"><link rel="prefetch" href="/assets/index.html-B-rM7PKP.js" as="script"><link rel="prefetch" href="/assets/index.html-Bdbd7zWB.js" as="script"><link rel="prefetch" href="/assets/index.html-PQLu_cdG.js" as="script"><link rel="prefetch" href="/assets/index.html-BaByp152.js" as="script"><link rel="prefetch" href="/assets/index.html-DQrw1sGU.js" as="script"><link rel="prefetch" href="/assets/404.html-Xl7f9Pk5.js" as="script"><link rel="prefetch" href="/assets/index.html-Cim6WBqA.js" as="script"><link rel="prefetch" href="/assets/index.html-DBgI0Ctx.js" as="script"><link rel="prefetch" href="/assets/index.html-CjlsAUhS.js" as="script"><link rel="prefetch" href="/assets/index.html-DBEQHe26.js" as="script"><link rel="prefetch" href="/assets/index.html-BrqbaMMm.js" as="script"><link rel="prefetch" href="/assets/index.html-B_JMJTKH.js" as="script"><link rel="prefetch" href="/assets/index.html-8JHj6Ere.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-SzV8tJDW.js" as="script"><link rel="prefetch" href="/assets/SearchResult-FVi5R2x7.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="route-link vp-brand" href="/"><!----><!----><!----></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a class="route-link nav-link" href="/" aria-label="é¦–é¡µ"><span class="font-icon icon circle-question" style=""></span>é¦–é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a class="route-link nav-link active" href="/pages/" aria-label="æ–‡æ¡£"><span class="font-icon icon circle-question" style=""></span>æ–‡æ¡£<!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><!----><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><button type="button" class="search-pro-button" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">æœç´¢</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><!----><span class="vp-sidebar-title">åˆ†å¸ƒå¼</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">00. Redis</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">02. Elastic Search</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">03. Dubbo</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">04. Zookeeper</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><!----><span class="vp-sidebar-title">05.æ¶ˆæ¯é˜Ÿåˆ—</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><!----><span class="vp-sidebar-title">00. Rabbit MQ</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><!--[--><a class="route-link nav-link active vp-sidebar-link vp-sidebar-page active" href="/pages/9a014b/" aria-label="RabbitMQä¸Šæ‰‹ä»¥åŠé›†ç¾¤æ¶æ„"><!---->RabbitMQä¸Šæ‰‹ä»¥åŠé›†ç¾¤æ¶æ„<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/pages/9a014b/#mqä»‹ç»" aria-label="MQä»‹ç»"><!---->MQä»‹ç»<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/pages/9a014b/#ä»€ä¹ˆæ˜¯mq-ä¸ºä»€ä¹ˆè¦ç”¨mq" aria-label="ä»€ä¹ˆæ˜¯MQï¼Ÿä¸ºä»€ä¹ˆè¦ç”¨MQï¼Ÿ"><!---->ä»€ä¹ˆæ˜¯MQï¼Ÿä¸ºä»€ä¹ˆè¦ç”¨MQï¼Ÿ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/pages/9a014b/#mqçš„ä¼˜ç¼ºç‚¹" aria-label="MQçš„ä¼˜ç¼ºç‚¹"><!---->MQçš„ä¼˜ç¼ºç‚¹<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/pages/9a014b/#å‡ å¤§mqäº§å“ç‰¹ç‚¹æ¯”è¾ƒ" aria-label="å‡ å¤§MQäº§å“ç‰¹ç‚¹æ¯”è¾ƒ"><!---->å‡ å¤§MQäº§å“ç‰¹ç‚¹æ¯”è¾ƒ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/pages/9a014b/#rabbitmqå®‰è£…" aria-label="RabbitMQå®‰è£…"><!---->RabbitMQå®‰è£…<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/pages/9a014b/#å®éªŒç¯å¢ƒ" aria-label="å®éªŒç¯å¢ƒ"><!---->å®éªŒç¯å¢ƒ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/pages/9a014b/#ç‰ˆæœ¬é€‰æ‹©" aria-label="ç‰ˆæœ¬é€‰æ‹©"><!---->ç‰ˆæœ¬é€‰æ‹©<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/pages/9a014b/#å®‰è£…erlangè¯­è¨€åŒ…" aria-label="å®‰è£…Erlangè¯­è¨€åŒ…"><!---->å®‰è£…Erlangè¯­è¨€åŒ…<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/pages/9a014b/#å®‰è£…rabbitmq" aria-label="å®‰è£…RabbitMQ"><!---->å®‰è£…RabbitMQ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/pages/9a014b/#rabbitmqé›†ç¾¤æ­å»º" aria-label="RabbitMQé›†ç¾¤æ­å»º"><!---->RabbitMQé›†ç¾¤æ­å»º<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/pages/9a014b/#æ­å»ºæ™®é€šé›†ç¾¤" aria-label="æ­å»ºæ™®é€šé›†ç¾¤"><!---->æ­å»ºæ™®é€šé›†ç¾¤<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/pages/9a014b/#æ­å»ºé•œåƒé›†ç¾¤" aria-label="æ­å»ºé•œåƒé›†ç¾¤"><!---->æ­å»ºé•œåƒé›†ç¾¤<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/pages/9a014b/#rabbitmqåŸºç¡€ä½¿ç”¨" aria-label="RabbitMQåŸºç¡€ä½¿ç”¨"><!---->RabbitMQåŸºç¡€ä½¿ç”¨<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/pages/def779/" aria-label="RabbitMQä½¿ç”¨ä¸­çš„å¸¸è§é—®é¢˜"><!---->RabbitMQä½¿ç”¨ä¸­çš„å¸¸è§é—®é¢˜<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/pages/d02edd/" aria-label="RabbitMQæ¶ˆè´¹ç«¯å¼‚å¸¸å¤„ç†"><!---->RabbitMQæ¶ˆè´¹ç«¯å¼‚å¸¸å¤„ç†<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/pages/b891f5/" aria-label="RabbitMQç¼–ç¨‹æ¨¡å‹"><!---->RabbitMQç¼–ç¨‹æ¨¡å‹<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/pages/ae15fa/" aria-label="RabbitMQé«˜çº§ä½¿ç”¨åœºæ™¯"><!---->RabbitMQé«˜çº§ä½¿ç”¨åœºæ™¯<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">01. Kafka</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">02. Rocket MQ</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">å®¹å™¨</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">å¹¶å‘ç¼–ç¨‹</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">å¾®æœåŠ¡</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">æ€§èƒ½è°ƒä¼˜</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">æºç æ¡†æ¶</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">ç®—æ³•</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">è®¡ç®—æœºç½‘ç»œ</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">é¢è¯•</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!--[--><!----><!--]--><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->RabbitMQä¸Šæ‰‹ä»¥åŠé›†ç¾¤æ¶æ„</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">æ±Ÿ</span></span><span property="author" content="æ±Ÿ"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2022-11-07T11:28:12.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 16 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT16M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="route-link toc-link level2" href="/#mqä»‹ç»">MQä»‹ç»</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#ä»€ä¹ˆæ˜¯mq-ä¸ºä»€ä¹ˆè¦ç”¨mq">ä»€ä¹ˆæ˜¯MQï¼Ÿä¸ºä»€ä¹ˆè¦ç”¨MQï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#mqçš„ä¼˜ç¼ºç‚¹">MQçš„ä¼˜ç¼ºç‚¹</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#å‡ å¤§mqäº§å“ç‰¹ç‚¹æ¯”è¾ƒ">å‡ å¤§MQäº§å“ç‰¹ç‚¹æ¯”è¾ƒ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level2" href="/#rabbitmqå®‰è£…">RabbitMQå®‰è£…</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#å®éªŒç¯å¢ƒ">å®éªŒç¯å¢ƒ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#ç‰ˆæœ¬é€‰æ‹©">ç‰ˆæœ¬é€‰æ‹©</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#å®‰è£…erlangè¯­è¨€åŒ…">å®‰è£…Erlangè¯­è¨€åŒ…</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#å®‰è£…rabbitmq">å®‰è£…RabbitMQ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level2" href="/#rabbitmqé›†ç¾¤æ­å»º">RabbitMQé›†ç¾¤æ­å»º</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#æ­å»ºæ™®é€šé›†ç¾¤">æ­å»ºæ™®é€šé›†ç¾¤</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#æ­å»ºé•œåƒé›†ç¾¤">æ­å»ºé•œåƒé›†ç¾¤</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#rabbitmqåŸºç¡€ä½¿ç”¨">RabbitMQåŸºç¡€ä½¿ç”¨</a></li><!----><!--]--></ul></li><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!--[--><!----><!--]--><div class="theme-hope-content"><h2 id="mqä»‹ç»" tabindex="-1"><a class="header-anchor" href="#mqä»‹ç»"><span>MQä»‹ç»</span></a></h2><blockquote><p>è¿™ä¸€éƒ¨åˆ†ç†è®ºä»‹ç»ï¼Œå…¶å®åœ¨æ¯ä¸ªMQäº§å“ä¸­éƒ½æ˜¯å¤§è‡´ç›¸åŒçš„ï¼Œå¯ä»¥å‚è€ƒRocketMQçš„éƒ¨åˆ†ã€‚</p></blockquote><h3 id="ä»€ä¹ˆæ˜¯mq-ä¸ºä»€ä¹ˆè¦ç”¨mq" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯mq-ä¸ºä»€ä¹ˆè¦ç”¨mq"><span>ä»€ä¹ˆæ˜¯MQï¼Ÿä¸ºä»€ä¹ˆè¦ç”¨MQï¼Ÿ</span></a></h3><p><strong>MQï¼šMessageQueue</strong>ï¼Œæ¶ˆæ¯é˜Ÿåˆ—ã€‚ é˜Ÿåˆ—ï¼Œæ˜¯ä¸€ç§FIFOå…ˆè¿›å…ˆå‡ºçš„æ•°æ®ç»“æ„ã€‚æ¶ˆæ¯ç”±ç”Ÿäº§è€…å‘é€åˆ°MQè¿›è¡Œæ’é˜Ÿï¼Œç„¶åæŒ‰åŸæ¥çš„é¡ºåºäº¤ç”±æ¶ˆæ¯çš„æ¶ˆè´¹è€…è¿›è¡Œå¤„ç†ã€‚QQå’Œå¾®ä¿¡å°±æ˜¯å…¸å‹çš„MQã€‚</p><p>MQçš„ä½œç”¨ä¸»è¦æœ‰ä»¥ä¸‹ä¸‰ä¸ªæ–¹é¢ï¼š</p><ul><li><p><strong>å¼‚æ­¥</strong></p><p>ä¾‹å­ï¼šå¿«é€’å‘˜å‘å¿«é€’ï¼Œç›´æ¥åˆ°å®¢æˆ·å®¶æ•ˆç‡ä¼šå¾ˆä½ã€‚å¼•å…¥èœé¸Ÿé©¿ç«™åï¼Œå¿«é€’å‘˜åªéœ€è¦æŠŠå¿«é€’æ”¾åˆ°èœé¸Ÿé©¿ç«™ï¼Œå°±å¯ä»¥ç»§ç»­å‘å…¶ä»–å¿«é€’å»äº†ã€‚å®¢æˆ·å†æŒ‰è‡ªå·±çš„æ—¶é—´å®‰æ’å»èœé¸Ÿé©¿ç«™å–å¿«é€’ã€‚</p><p>ä½œç”¨ï¼šå¼‚æ­¥èƒ½æé«˜ç³»ç»Ÿçš„å“åº”é€Ÿåº¦ã€ååé‡ã€‚</p></li><li><p><strong>è§£è€¦</strong></p><p>ä¾‹å­ï¼šã€ŠThinking in JAVAã€‹å¾ˆç»å…¸ï¼Œä½†æ˜¯éƒ½æ˜¯è‹±æ–‡ï¼Œæˆ‘ä»¬çœ‹ä¸æ‡‚ï¼Œæ‰€ä»¥éœ€è¦ç¼–è¾‘ç¤¾ï¼Œå°†æ–‡ç« ç¿»è¯‘æˆå…¶ä»–è¯­è¨€ï¼Œè¿™æ ·å°±å¯ä»¥å®Œæˆè‹±è¯­ä¸å…¶ä»–è¯­è¨€çš„äº¤æµã€‚</p><p>ä½œç”¨ï¼š</p><p>1ã€æœåŠ¡ä¹‹é—´è¿›è¡Œè§£è€¦ï¼Œæ‰å¯ä»¥å‡å°‘æœåŠ¡ä¹‹é—´çš„å½±å“ã€‚æé«˜ç³»ç»Ÿæ•´ä½“çš„ç¨³å®šæ€§ä»¥åŠå¯æ‰©å±•æ€§ã€‚</p><p>2ã€å¦å¤–ï¼Œè§£è€¦åå¯ä»¥å®ç°æ•°æ®åˆ†å‘ã€‚ç”Ÿäº§è€…å‘é€ä¸€ä¸ªæ¶ˆæ¯åï¼Œå¯ä»¥ç”±ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ¶ˆè´¹è€…è¿›è¡Œæ¶ˆè´¹ï¼Œå¹¶ä¸”æ¶ˆè´¹è€…çš„å¢åŠ æˆ–è€…å‡å°‘å¯¹ç”Ÿäº§è€…æ²¡æœ‰å½±å“ã€‚</p></li><li><p><strong>å‰Šå³°</strong></p><p>ä¾‹å­ï¼šé•¿æ±Ÿæ¯å¹´éƒ½ä¼šæ¶¨æ°´ï¼Œä½†æ˜¯ä¸‹æ¸¸å‡ºæ°´å£çš„é€Ÿåº¦æ˜¯åŸºæœ¬ç¨³å®šçš„ï¼Œæ‰€ä»¥ä¼šæ¶¨æ°´ã€‚å¼•å…¥ä¸‰å³¡å¤§ååï¼Œå¯ä»¥æŠŠæ°´å‚¨å­˜èµ·æ¥ï¼Œä¸‹æ¸¸æ…¢æ…¢æ’æ°´ã€‚</p><p>ä½œç”¨ï¼šä»¥ç¨³å®šçš„ç³»ç»Ÿèµ„æºåº”å¯¹çªå‘çš„æµé‡å†²å‡»ã€‚</p></li></ul><h3 id="mqçš„ä¼˜ç¼ºç‚¹" tabindex="-1"><a class="header-anchor" href="#mqçš„ä¼˜ç¼ºç‚¹"><span>MQçš„ä¼˜ç¼ºç‚¹</span></a></h3><p>ä¸Šé¢MQçš„æ‰€ç”¨ä¹Ÿå°±æ˜¯ä½¿ç”¨MQçš„ä¼˜ç‚¹ã€‚ ä½†æ˜¯å¼•å…¥MQä¹Ÿæ˜¯æœ‰ä»–çš„ç¼ºç‚¹çš„ï¼š</p><ul><li><strong>ç³»ç»Ÿå¯ç”¨æ€§é™ä½</strong></li></ul><p>ç³»ç»Ÿå¼•å…¥çš„å¤–éƒ¨ä¾èµ–å¢å¤šï¼Œç³»ç»Ÿçš„ç¨³å®šæ€§å°±ä¼šå˜å·®ã€‚ä¸€æ—¦MQå®•æœºï¼Œå¯¹ä¸šåŠ¡ä¼šäº§ç”Ÿå½±å“ã€‚è¿™å°±éœ€è¦è€ƒè™‘å¦‚ä½•ä¿è¯MQçš„é«˜å¯ç”¨ã€‚</p><ul><li><strong>ç³»ç»Ÿå¤æ‚åº¦æé«˜</strong></li></ul><p>å¼•å…¥MQåç³»ç»Ÿçš„å¤æ‚åº¦ä¼šå¤§å¤§æé«˜ã€‚ä»¥å‰æœåŠ¡ä¹‹é—´å¯ä»¥è¿›è¡ŒåŒæ­¥çš„æœåŠ¡è°ƒç”¨ï¼Œå¼•å…¥MQåï¼Œä¼šå˜ä¸ºå¼‚æ­¥è°ƒç”¨ï¼Œæ•°æ®çš„é“¾è·¯å°±ä¼šå˜å¾—æ›´å¤æ‚ã€‚å¹¶ä¸”è¿˜ä¼šå¸¦æ¥å…¶ä»–ä¸€äº›é—®é¢˜ã€‚æ¯”å¦‚ï¼š<strong>å¦‚ä½•ä¿è¯æ¶ˆè´¹ä¸ä¼šä¸¢å¤±ï¼Ÿä¸ä¼šè¢«é‡å¤è°ƒç”¨ï¼Ÿæ€ä¹ˆä¿è¯æ¶ˆæ¯çš„é¡ºåºæ€§ç­‰é—®é¢˜</strong>ã€‚</p><ul><li><strong>æ¶ˆæ¯ä¸€è‡´æ€§é—®é¢˜</strong></li></ul><p>Aç³»ç»Ÿå¤„ç†å®Œä¸šåŠ¡ï¼Œé€šè¿‡MQå‘é€æ¶ˆæ¯ç»™Bã€Cç³»ç»Ÿè¿›è¡Œåç»­çš„ä¸šåŠ¡å¤„ç†ã€‚å¦‚æœBç³»ç»Ÿå¤„ç†æˆåŠŸï¼ŒCç³»ç»Ÿå¤„ç†å¤±è´¥æ€ä¹ˆåŠï¼Ÿè¿™å°±éœ€è¦è€ƒè™‘å¦‚ä½•ä¿è¯æ¶ˆæ¯æ•°æ®å¤„ç†çš„ä¸€è‡´æ€§ã€‚</p><h3 id="å‡ å¤§mqäº§å“ç‰¹ç‚¹æ¯”è¾ƒ" tabindex="-1"><a class="header-anchor" href="#å‡ å¤§mqäº§å“ç‰¹ç‚¹æ¯”è¾ƒ"><span>å‡ å¤§MQäº§å“ç‰¹ç‚¹æ¯”è¾ƒ</span></a></h3><p>å¸¸ç”¨çš„MQäº§å“åŒ…æ‹¬Kafkaã€RabbitMQå’ŒRocketMQã€‚æˆ‘ä»¬å¯¹è¿™ä¸‰ä¸ªäº§å“åšä¸‹ç®€å•çš„æ¯”è¾ƒï¼Œé‡ç‚¹éœ€è¦ç†è§£ä»–ä»¬çš„é€‚ç”¨åœºæ™¯ã€‚</p><p><img src="https://img.jssjqd.cn/202212040127055.png" alt="image-20221204012712978"></p><blockquote><p>å…³äºRabbitMQçš„åŠŸèƒ½ç‰¹æ€§ï¼Œå¯ä»¥åœ¨å®˜ç½‘( https://www.rabbitmq.com/ )ä¸Šçœ‹åˆ°ï¼ŒåŒ…å« Asynchronous Message(å¼‚æ­¥æ¶ˆæ¯)ã€Developer Experience(å¼€å‘ä½“éªŒ)ã€Distributed Deployment(åˆ†å¸ƒå¼éƒ¨ç½²)ã€Enterprise &amp; Cloud Ready(ä¼ä¸šäº‘éƒ¨ç½²)ã€Tools &amp; Plugins(å·¥å…·å’Œæ’ä»¶)ã€Management &amp; Monitoring(ç®¡ç†å’Œç›‘æ§)å…­å¤§éƒ¨åˆ†ã€‚æ‰€ä»¥å…¶ä¸­çš„åŠŸèƒ½æ˜¯ç›¸å½“ä¸°å¯Œçš„ï¼Œè€Œæˆ‘ä»¬è‚¯å®šåªèƒ½å…³æ³¨é‡ç‚¹çš„éƒ¨åˆ†å†…å®¹ï¼Œæ‰€ä»¥è¿˜æ˜¯è¦ç»å¸¸åˆ°å®˜ç½‘ä¸Šå»çœ‹çœ‹çš„ã€‚</p></blockquote><h2 id="rabbitmqå®‰è£…" tabindex="-1"><a class="header-anchor" href="#rabbitmqå®‰è£…"><span>RabbitMQå®‰è£…</span></a></h2><h3 id="å®éªŒç¯å¢ƒ" tabindex="-1"><a class="header-anchor" href="#å®éªŒç¯å¢ƒ"><span>å®éªŒç¯å¢ƒ</span></a></h3><p>å‡†å¤‡äº†ä¸‰å°è™šæ‹Ÿæœº 192.168.232.128~130ï¼Œé¢„å¤‡æ­å»ºä¸‰å°æœºå™¨çš„é›†ç¾¤ã€‚</p><p>ä¸‰å°æœºå™¨å‡é¢„è£…CentOS7 æ“ä½œç³»ç»Ÿã€‚åˆ†åˆ«é…ç½®æœºå™¨å worker1ï¼Œworker2ï¼Œworker3ã€‚ç„¶åéœ€è¦å…³é—­é˜²ç«å¢™(æˆ–è€…æ‰¾åˆ°RabbitMQçš„ä¸šåŠ¡ç«¯å£å…¨éƒ¨æ‰“å¼€ã€‚ 5672(amqpç«¯å£)ï¼›15672(http Apiç«¯å£)ï¼›25672(é›†ç¾¤é€šä¿¡ç«¯å£))ã€‚</p><h3 id="ç‰ˆæœ¬é€‰æ‹©" tabindex="-1"><a class="header-anchor" href="#ç‰ˆæœ¬é€‰æ‹©"><span>ç‰ˆæœ¬é€‰æ‹©</span></a></h3><p>RabbitMQç‰ˆæœ¬ï¼Œé€šå¸¸ä¸ä»–çš„å¤§çš„åŠŸèƒ½æ˜¯æœ‰å…³ç³»çš„ã€‚3.8.xç‰ˆæœ¬ä¸»è¦æ˜¯å›´ç»•Quorum QueueåŠŸèƒ½ï¼Œè€Œ3.9.xç‰ˆæœ¬ä¸»è¦æ˜¯å›´ç»•StreamsåŠŸèƒ½ã€‚ç›®å‰è¿˜æœ‰3.10.xç‰ˆæœ¬ï¼Œè¿˜åœ¨rcé˜¶æ®µã€‚æˆ‘ä»¬è¿™æ¬¡é€‰æ‹©3.9.15ç‰ˆæœ¬ã€‚</p><p>RabbitMQæ˜¯åŸºäºErlangè¯­è¨€å¼€å‘ï¼Œæ‰€ä»¥å®‰è£…å‰éœ€è¦å®‰è£…Erlangè¯­è¨€ç¯å¢ƒã€‚éœ€è¦æ³¨æ„ä¸‹çš„æ˜¯RabbitMQä¸ErLangæ˜¯æœ‰ç‰ˆæœ¬å¯¹åº”å…³ç³»çš„ã€‚3.9.15ç‰ˆæœ¬çš„RabbitMQåªæ”¯æŒ23.2ä»¥ä¸Šåˆ°24.3ç‰ˆæœ¬çš„Erlangã€‚</p><blockquote><p>Docker hubä¸Šä¹Ÿå·²ç»æœ‰å®˜æ–¹ä¸Šä¼ çš„é•œåƒ</p></blockquote><h3 id="å®‰è£…erlangè¯­è¨€åŒ…" tabindex="-1"><a class="header-anchor" href="#å®‰è£…erlangè¯­è¨€åŒ…"><span>å®‰è£…Erlangè¯­è¨€åŒ…</span></a></h3><p>è¿™ä¸ªè¯­è¨€åŒ…ï¼Œåœ¨windowsä¸‹çš„å®‰è£…æ¯”è¾ƒç®€å•ï¼Œæ˜¯ä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºï¼Œç›´æ¥å›¾å½¢åŒ–å®‰è£…å°±è¡Œäº†ã€‚</p><p>Linuxä¸Šçš„å®‰è£…ç¨å¾®å¤æ‚ï¼Œéœ€è¦æœ‰éå¸¸å¤šçš„ä¾èµ–åŒ…ã€‚ç®€å•èµ·è§ï¼Œå¯ä»¥ä¸‹è½½rabbitmqæä¾›çš„zero dependencyç‰ˆæœ¬ã€‚ ä¸‹è½½åœ°å€ https://github.com/rabbitmq/erlang-rpm/releases</p><p>ä¸‹è½½å®Œæˆåï¼Œå¯ä»¥å°è¯•ä½¿ç”¨ä¸‹é¢çš„æŒ‡ä»¤å®‰è£…</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@worker1 tools<span class="token punctuation">]</span><span class="token comment"># rpm -ivh erlang-23.2.7-1.el7.x86_64.rpm </span>
è­¦å‘Šï¼šerlang-23.2.7-1.el7.x86_64.rpm: å¤´V4 RSA/SHA1 Signature, å¯†é’¥ ID 6026dfca: NOKEY
å‡†å¤‡ä¸­<span class="token punctuation">..</span>.                          <span class="token comment">################################# [100%]</span>
æ­£åœ¨å‡çº§/å®‰è£…<span class="token punctuation">..</span>.
   <span class="token number">1</span>:erlang-23.2.7-1.el7              <span class="token comment">################################# [100%]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ ·Erlangè¯­è¨€åŒ…å°±å®‰è£…å®Œæˆäº†ã€‚ å®‰è£…å®Œåå¯ä»¥ä½¿ç”¨ erl -version æŒ‡ä»¤æ£€æµ‹ä¸‹erlangæ˜¯å¦å®‰è£…æˆåŠŸã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@worker1 tools<span class="token punctuation">]</span><span class="token comment"># erl -version</span>
Erlang <span class="token punctuation">(</span>SMP,ASYNC_THREADS,HIPE<span class="token punctuation">)</span> <span class="token punctuation">(</span>BEAM<span class="token punctuation">)</span> emulator version <span class="token number">11.1</span>.8
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å®‰è£…rabbitmq" tabindex="-1"><a class="header-anchor" href="#å®‰è£…rabbitmq"><span>å®‰è£…RabbitMQ</span></a></h3><p>RabbitMQçš„å®‰è£…æ–¹å¼æœ‰å¾ˆå¤šï¼Œæˆ‘ä»¬é‡‡ç”¨RPMå®‰è£…åŒ…çš„æ–¹å¼ã€‚å®‰è£…åŒ…å¯ä»¥åˆ°githubä»“åº“ä¸­ä¸‹è½½å‘å¸ƒåŒ…ã€‚</p><blockquote><p>ä¸‹è½½åœ°å€ï¼šhttps://github.com/rabbitmq/rabbitmq-server/releases</p></blockquote><p>ç„¶åä½¿ç”¨ rpm -Uvh æŒ‡ä»¤å®‰è£…RabbitMQçš„rpmåŒ…æ—¶ï¼Œä¼šæŠ¥é”™ï¼Œéœ€è¦å®‰è£…ä¸€ä¸ªsocatã€‚</p><p>è€Œè¿™ä¸ªsocatæˆ‘ä¹Ÿåœ¨ç½‘ä¸Šä¸‹è½½åˆ°äº†rpmå®‰è£…åŒ…ã€‚ socat-1.7.3.2-1.1.el7.x86_64.rpm ï¼Œä½†æ˜¯å®‰è£…æ—¶ï¼Œå´æç¤ºéœ€è¦tcp_wrappersä¾èµ–ã€‚</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>[root@worker2 tools]# rpm -ivh socat-1.7.3.2-1.1.el7.x86_64.rpm 
è­¦å‘Šï¼šsocat-1.7.3.2-1.1.el7.x86_64.rpm: å¤´V4 RSA/SHA1 Signature, å¯†é’¥ ID 87e360b8: NOKEY
é”™è¯¯ï¼šä¾èµ–æ£€æµ‹å¤±è´¥ï¼š
        tcp_wrappers è¢« socat-1.7.3.2-1.1.el7.x86_64 éœ€è¦
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ—¶ï¼Œå½“ç„¶å¯ä»¥æŒ‰ä»–çš„æç¤ºå»å®‰è£…ä¾èµ–åŒ…ã€‚ ä½†æ˜¯æˆ‘å°±æ²¡æœ‰è¿™ä¹ˆåšäº†ã€‚ ç›´æ¥ç”¨yumå®‰è£…è¿™ä¸ªsocatä¾èµ–ã€‚åœ¨ä½¿ç”¨yumæ—¶ï¼Œå¯ä»¥åšä¸€ä¸ªå°é…ç½®ï¼Œå°†yumæºé…ç½®æˆé˜¿é‡Œçš„yumæºï¼Œè¿™æ ·é€Ÿåº¦ä¼šæ¯”è¾ƒå¿«ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">mv</span> /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup

<span class="token function">curl</span> <span class="token parameter variable">-o</span> /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo

yum makecache

ç„¶åå®‰è£…socat
yum <span class="token function">install</span> socat
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>socatå®‰è£…å®Œæˆåï¼Œå°±å¯ä»¥å®‰è£…RabbitMQäº†ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@worker1 tools<span class="token punctuation">]</span><span class="token comment"># rpm -Uvh rabbitmq-server-3.9.15-1.el7.noarch.rpm </span>
è­¦å‘Šï¼šrabbitmq-server-3.9.15-1.el7.noarch.rpm: å¤´V4 RSA/SHA512 Signature, å¯†é’¥ ID 6026dfca: NOKEY
å‡†å¤‡ä¸­<span class="token punctuation">..</span>.                          <span class="token comment">################################# [100%]</span>
æ­£åœ¨å‡çº§/å®‰è£…<span class="token punctuation">..</span>.
   <span class="token number">1</span>:rabbitmq-server-3.9.15-1.el7     <span class="token comment">################################# [100%]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®‰è£…å®Œæˆåï¼Œå¯ä»¥æŸ¥çœ‹ä¸‹ä»–çš„å®‰è£…æƒ…å†µ</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@worker1 share<span class="token punctuation">]</span><span class="token comment"># whereis rabbitmqctl</span>
rabbitmqctl: /usr/sbin/rabbitmqctl /usr/share/man/man8/rabbitmqctl.8.gz
<span class="token comment">##å¯åŠ¨RabbitMQæœåŠ¡</span>
<span class="token punctuation">[</span>root@worker1 rabbitmq<span class="token punctuation">]</span><span class="token comment"># service rabbitmq-server start</span>
Redirecting to /bin/systemctl start rabbitmq-server.service
Job <span class="token keyword">for</span> rabbitmq-server.service failed because the control process exited with error code. See <span class="token string">&quot;systemctl status rabbitmq-server.service&quot;</span> and <span class="token string">&quot;journalctl -xe&quot;</span> <span class="token keyword">for</span> details.
<span class="token comment">##æŸ¥çœ‹æœåŠ¡çŠ¶æ€</span>
<span class="token punctuation">[</span>root@worker1 rabbitmq<span class="token punctuation">]</span><span class="token comment"># service rabbitmq-server status</span>
Redirecting to /bin/systemctl status rabbitmq-server.service
â— rabbitmq-server.service - RabbitMQ broker
   Loaded: loaded <span class="token punctuation">(</span>/usr/lib/systemd/system/rabbitmq-server.service<span class="token punctuation">;</span> disabled<span class="token punctuation">;</span> vendor preset: disabled<span class="token punctuation">)</span>
   Active: activating <span class="token punctuation">(</span>start<span class="token punctuation">)</span> since äº” <span class="token number">2022</span>-04-22 <span class="token number">17</span>:16:47 CST<span class="token punctuation">;</span> 5s ago
 Main PID: <span class="token number">4327</span> <span class="token punctuation">(</span>beam.smp<span class="token punctuation">)</span>
   Status: <span class="token string">&quot;Startup in progress&quot;</span>
   CGroup: /system.slice/rabbitmq-server.service
           â”œâ”€4327 /usr/lib64/erlang/erts-11.1.8/bin/beam.smp <span class="token parameter variable">-W</span> w <span class="token parameter variable">-MBas</span> ageffcbf <span class="token parameter variable">-MHas</span> ageffcbf <span class="token parameter variable">-MBlmbcs</span> <span class="token number">512</span> <span class="token parameter variable">-MHlmbcs</span> <span class="token number">512</span> <span class="token parameter variable">-MMmcs</span> <span class="token number">30</span> <span class="token parameter variable">-P</span> <span class="token number">1048576</span> <span class="token parameter variable">-t</span> <span class="token number">5000000</span> <span class="token parameter variable">-stbt</span> db <span class="token parameter variable">-zdbbl</span> <span class="token number">128000</span> <span class="token parameter variable">-sbwt</span> <span class="token punctuation">..</span>.
           â”œâ”€4342 erl_child_setup <span class="token number">32768</span>
           â”œâ”€4390 inet_gethost <span class="token number">4</span>
           â””â”€4391 inet_gethost <span class="token number">4</span>

<span class="token number">4</span>æœˆ <span class="token number">22</span> <span class="token number">17</span>:16:49 worker1 rabbitmq-server<span class="token punctuation">[</span><span class="token number">4327</span><span class="token punctuation">]</span>: <span class="token number">2022</span>-04-22 <span class="token number">17</span>:16:49.126900+08:00 <span class="token punctuation">[</span>info<span class="token punctuation">]</span> <span class="token operator">&lt;</span><span class="token number">0.229</span>.<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> Feature flags: list of feature flags found:
<span class="token number">4</span>æœˆ <span class="token number">22</span> <span class="token number">17</span>:16:49 worker1 rabbitmq-server<span class="token punctuation">[</span><span class="token number">4327</span><span class="token punctuation">]</span>: <span class="token number">2022</span>-04-22 <span class="token number">17</span>:16:49.144773+08:00 <span class="token punctuation">[</span>info<span class="token punctuation">]</span> <span class="token operator">&lt;</span><span class="token number">0.229</span>.<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> Feature flags:   <span class="token punctuation">[</span>x<span class="token punctuation">]</span> implicit_default_bindings
<span class="token number">4</span>æœˆ <span class="token number">22</span> <span class="token number">17</span>:16:49 worker1 rabbitmq-server<span class="token punctuation">[</span><span class="token number">4327</span><span class="token punctuation">]</span>: <span class="token number">2022</span>-04-22 <span class="token number">17</span>:16:49.144856+08:00 <span class="token punctuation">[</span>info<span class="token punctuation">]</span> <span class="token operator">&lt;</span><span class="token number">0.229</span>.<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> Feature flags:   <span class="token punctuation">[</span>x<span class="token punctuation">]</span> maintenance_mode_status
<span class="token number">4</span>æœˆ <span class="token number">22</span> <span class="token number">17</span>:16:49 worker1 rabbitmq-server<span class="token punctuation">[</span><span class="token number">4327</span><span class="token punctuation">]</span>: <span class="token number">2022</span>-04-22 <span class="token number">17</span>:16:49.144903+08:00 <span class="token punctuation">[</span>info<span class="token punctuation">]</span> <span class="token operator">&lt;</span><span class="token number">0.229</span>.<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> Feature flags:   <span class="token punctuation">[</span>x<span class="token punctuation">]</span> quorum_queue
<span class="token number">4</span>æœˆ <span class="token number">22</span> <span class="token number">17</span>:16:49 worker1 rabbitmq-server<span class="token punctuation">[</span><span class="token number">4327</span><span class="token punctuation">]</span>: <span class="token number">2022</span>-04-22 <span class="token number">17</span>:16:49.145025+08:00 <span class="token punctuation">[</span>info<span class="token punctuation">]</span> <span class="token operator">&lt;</span><span class="token number">0.229</span>.<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> Feature flags:   <span class="token punctuation">[</span> <span class="token punctuation">]</span> stream_queue
<span class="token number">4</span>æœˆ <span class="token number">22</span> <span class="token number">17</span>:16:49 worker1 rabbitmq-server<span class="token punctuation">[</span><span class="token number">4327</span><span class="token punctuation">]</span>: <span class="token number">2022</span>-04-22 <span class="token number">17</span>:16:49.145075+08:00 <span class="token punctuation">[</span>info<span class="token punctuation">]</span> <span class="token operator">&lt;</span><span class="token number">0.229</span>.<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> Feature flags:   <span class="token punctuation">[</span> <span class="token punctuation">]</span> user_limits
<span class="token number">4</span>æœˆ <span class="token number">22</span> <span class="token number">17</span>:16:49 worker1 rabbitmq-server<span class="token punctuation">[</span><span class="token number">4327</span><span class="token punctuation">]</span>: <span class="token number">2022</span>-04-22 <span class="token number">17</span>:16:49.145110+08:00 <span class="token punctuation">[</span>info<span class="token punctuation">]</span> <span class="token operator">&lt;</span><span class="token number">0.229</span>.<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> Feature flags:   <span class="token punctuation">[</span>x<span class="token punctuation">]</span> virtual_host_metadata
<span class="token number">4</span>æœˆ <span class="token number">22</span> <span class="token number">17</span>:16:49 worker1 rabbitmq-server<span class="token punctuation">[</span><span class="token number">4327</span><span class="token punctuation">]</span>: <span class="token number">2022</span>-04-22 <span class="token number">17</span>:16:49.145154+08:00 <span class="token punctuation">[</span>info<span class="token punctuation">]</span> <span class="token operator">&lt;</span><span class="token number">0.229</span>.<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> Feature flags: feature flag states written to disk: <span class="token function">yes</span>
<span class="token number">4</span>æœˆ <span class="token number">22</span> <span class="token number">17</span>:16:49 worker1 rabbitmq-server<span class="token punctuation">[</span><span class="token number">4327</span><span class="token punctuation">]</span>: <span class="token number">2022</span>-04-22 <span class="token number">17</span>:16:49.605843+08:00 <span class="token punctuation">[</span>noti<span class="token punctuation">]</span> <span class="token operator">&lt;</span><span class="token number">0.44</span>.<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> Application syslog exited with reason: stopped
<span class="token number">4</span>æœˆ <span class="token number">22</span> <span class="token number">17</span>:16:49 worker1 rabbitmq-server<span class="token punctuation">[</span><span class="token number">4327</span><span class="token punctuation">]</span>: <span class="token number">2022</span>-04-22 <span class="token number">17</span>:16:49.605930+08:00 <span class="token punctuation">[</span>noti<span class="token punctuation">]</span> <span class="token operator">&lt;</span><span class="token number">0.229</span>.<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> Logging: switching to configured handler<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> following messages may not be<span class="token punctuation">..</span>. log output
Hint: Some lines were ellipsized, use <span class="token parameter variable">-l</span> to show <span class="token keyword">in</span> full.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å…¶ä»–å¸¸ç”¨çš„å¯åœæ“ä½œï¼š</p><p>rabbitmq-server -deched --åå°å¯åŠ¨æœåŠ¡</p><p>rabbitmqctl start_app --å¯åŠ¨æœåŠ¡</p><p>rabbitmqctl stop_app --å…³é—­æœåŠ¡</p></blockquote><p>è¿™æ ·RabbitMQæœåŠ¡å°±å¯åŠ¨å®Œæˆäº†ã€‚ ä¹‹åå¯ä»¥é…ç½®ä¸‹æ‰“å¼€ä»–çš„Webç®¡ç†é¡µé¢ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@worker1 rabbitmq<span class="token punctuation">]</span><span class="token comment"># rabbitmq-plugins enable rabbitmq_management </span>
Enabling plugins on <span class="token function">node</span> rabbit@worker1:
rabbitmq_management
The following plugins have been configured:
  rabbitmq_management
  rabbitmq_management_agent
  rabbitmq_web_dispatch
Applying plugin configuration to rabbit@worker1<span class="token punctuation">..</span>.
The following plugins have been enabled:
  rabbitmq_management
  rabbitmq_management_agent
  rabbitmq_web_dispatch

<span class="token builtin class-name">set</span> <span class="token number">3</span> plugins.
Offline change<span class="token punctuation">;</span> changes will take effect at broker restart.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™æ—¶éœ€è¦é‡å¯RabbitMQæœåŠ¡æ‰èƒ½ç”Ÿæ•ˆã€‚é‡å¯åï¼Œå°±å¯ä»¥è®¿é—®Webæ§åˆ¶å°äº†ã€‚ è®¿é—®ç«¯å£192.168.232.129ï¼š15672ã€‚</p><p>è¿™æ—¶ï¼Œå¯ä»¥ä½¿ç”¨é»˜è®¤çš„guest/guestç”¨æˆ·ç™»å½•ã€‚ ä½†æ˜¯æ³¨æ„ä¸‹ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œåªå…è®¸åœ¨localhostæœ¬åœ°ç™»å½•ï¼Œè¿œç¨‹è®¿é—®æ˜¯æ— æ³•ç™»å½•çš„ã€‚è¿™æ—¶ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªç®¡ç†å‘˜è´¦æˆ·æ¥ç™»å½•ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@worker1 ~<span class="token punctuation">]</span><span class="token comment"># rabbitmqctl add_user admin admin</span>
Adding user <span class="token string">&quot;admin&quot;</span> <span class="token punctuation">..</span>.
Done. Don<span class="token string">&#39;t forget to grant the user permissions to some virtual hosts! See &#39;</span>rabbitmqctl <span class="token builtin class-name">help</span> set_permissions&#39; to learn more.
<span class="token punctuation">[</span>root@worker2 tools<span class="token punctuation">]</span><span class="token comment"># rabbitmqctl set_permissions -p / admin &quot;.&quot; &quot;.&quot; &quot;.*&quot;</span>
Setting permissions <span class="token keyword">for</span> user <span class="token string">&quot;admin&quot;</span> <span class="token keyword">in</span> vhost <span class="token string">&quot;/&quot;</span> <span class="token punctuation">..</span>.
<span class="token punctuation">[</span>root@worker2 tools<span class="token punctuation">]</span><span class="token comment"># rabbitmqctl set_user_tags admin administrator</span>
Setting tags <span class="token keyword">for</span> user <span class="token string">&quot;admin&quot;</span> to <span class="token punctuation">[</span>administrator<span class="token punctuation">]</span> <span class="token punctuation">..</span>.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ ·å°±å¯ä»¥ç”¨admin/adminç”¨æˆ·ç™»å½•Webæ§åˆ¶å°äº†ã€‚</p><h2 id="rabbitmqé›†ç¾¤æ­å»º" tabindex="-1"><a class="header-anchor" href="#rabbitmqé›†ç¾¤æ­å»º"><span>RabbitMQé›†ç¾¤æ­å»º</span></a></h2><p>åœ¨RabbitMQä¸­ï¼Œä¸€ä¸ªèŠ‚ç‚¹çš„æœåŠ¡å…¶å®ä¹Ÿæ˜¯ä½œä¸ºä¸€ä¸ªé›†ç¾¤æ¥å¤„ç†çš„ï¼Œåœ¨webæ§åˆ¶å°çš„admin-&gt; clusterä¸­å¯ä»¥çœ‹åˆ°é›†ç¾¤çš„åå­—ï¼Œå¹¶ä¸”å¯ä»¥åœ¨é¡µé¢ä¸Šä¿®æ”¹ã€‚è€Œå¤šèŠ‚ç‚¹çš„é›†ç¾¤æœ‰ä¸¤ç§æ–¹å¼</p><ul><li><p><strong>æ™®é€šé›†ç¾¤æ¨¡å¼</strong>ï¼š</p><p>è¿™ç§æ¨¡å¼ä½¿ç”¨Erlangè¯­è¨€å¤©ç”Ÿå…·å¤‡çš„é›†ç¾¤æ–¹å¼æ­å»ºã€‚è¿™ç§é›†ç¾¤æ¨¡å¼ä¸‹ï¼Œé›†ç¾¤çš„å„ä¸ªèŠ‚ç‚¹ä¹‹é—´åªä¼šæœ‰ç›¸åŒçš„å…ƒæ•°æ®ï¼Œå³é˜Ÿåˆ—ç»“æ„ï¼Œè€Œæ¶ˆæ¯ä¸ä¼šè¿›è¡Œå†—ä½™ï¼Œåªå­˜åœ¨ä¸€ä¸ªèŠ‚ç‚¹ä¸­ã€‚æ¶ˆè´¹æ—¶ï¼Œå¦‚æœæ¶ˆè´¹çš„ä¸æ˜¯å­˜æœ‰æ•°æ®çš„èŠ‚ç‚¹ï¼Œ RabbitMQä¼šä¸´æ—¶åœ¨èŠ‚ç‚¹ä¹‹é—´è¿›è¡Œæ•°æ®ä¼ è¾“ï¼Œå°†æ¶ˆæ¯ä»å­˜æœ‰æ•°æ®çš„èŠ‚ç‚¹ä¼ è¾“åˆ°æ¶ˆè´¹çš„èŠ‚ç‚¹ã€‚</p><p>å¾ˆæ˜¾ç„¶ï¼Œè¿™ç§é›†ç¾¤æ¨¡å¼çš„æ¶ˆæ¯å¯é æ€§ä¸æ˜¯å¾ˆé«˜ã€‚å› ä¸ºå¦‚æœå…¶ä¸­æœ‰ä¸ªèŠ‚ç‚¹æœåŠ¡å®•æœºäº†ï¼Œé‚£è¿™ä¸ªèŠ‚ç‚¹ä¸Šçš„æ•°æ®å°±æ— æ³•æ¶ˆè´¹äº†ï¼Œéœ€è¦ç­‰åˆ°è¿™ä¸ªèŠ‚ç‚¹æœåŠ¡æ¢å¤åæ‰èƒ½æ¶ˆè´¹ï¼Œè€Œè¿™æ—¶ï¼Œæ¶ˆè´¹è€…ç«¯å·²ç»æ¶ˆè´¹è¿‡çš„æ¶ˆæ¯å°±æœ‰å¯èƒ½ç»™ä¸äº†æœåŠ¡ç«¯æ­£ç¡®åº”ç­”ï¼ŒæœåŠ¡èµ·æ¥åï¼Œå°±ä¼šå†æ¬¡æ¶ˆè´¹è¿™äº›æ¶ˆæ¯ï¼Œé€ æˆè¿™éƒ¨åˆ†æ¶ˆæ¯é‡å¤æ¶ˆè´¹ã€‚ å¦å¤–ï¼Œå¦‚æœæ¶ˆæ¯æ²¡æœ‰åšæŒä¹…åŒ–ï¼Œé‡å¯å°±æ¶ˆæ¯å°±ä¼šä¸¢å¤±ã€‚</p><p>å¹¶ä¸”ï¼Œè¿™ç§é›†ç¾¤æ¨¡å¼ä¹Ÿä¸æ”¯æŒé«˜å¯ç”¨ï¼Œå³å½“æŸä¸€ä¸ªèŠ‚ç‚¹æœåŠ¡æŒ‚äº†åï¼Œéœ€è¦æ‰‹åŠ¨é‡å¯æœåŠ¡ï¼Œæ‰èƒ½ä¿è¯è¿™ä¸€éƒ¨åˆ†æ¶ˆæ¯èƒ½æ­£å¸¸æ¶ˆè´¹ã€‚</p><p>æ‰€ä»¥è¿™ç§é›†ç¾¤æ¨¡å¼åªé€‚åˆä¸€äº›å¯¹æ¶ˆæ¯å®‰å…¨æ€§ä¸æ˜¯å¾ˆé«˜çš„åœºæ™¯ã€‚è€Œåœ¨ä½¿ç”¨è¿™ç§æ¨¡å¼æ—¶ï¼Œæ¶ˆè´¹è€…åº”è¯¥å°½é‡çš„è¿æ¥ä¸Šæ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå‡å°‘æ¶ˆæ¯åœ¨é›†ç¾¤ä¸­çš„ä¼ è¾“ã€‚</p></li><li><p><strong>é•œåƒæ¨¡å¼</strong>ï¼š</p><p>è¿™ç§æ¨¡å¼æ˜¯åœ¨æ™®é€šé›†ç¾¤æ¨¡å¼åŸºç¡€ä¸Šçš„ä¸€ç§å¢å¼ºæ–¹æ¡ˆï¼Œè¿™ä¹Ÿå°±æ˜¯RabbitMQçš„å®˜æ–¹HAé«˜å¯ç”¨æ–¹æ¡ˆã€‚éœ€è¦åœ¨æ­å»ºäº†æ™®é€šé›†ç¾¤ä¹‹åå†è¡¥å……æ­å»ºã€‚å…¶æœ¬è´¨åŒºåˆ«åœ¨äºï¼Œè¿™ç§æ¨¡å¼ä¼šåœ¨é•œåƒèŠ‚ç‚¹ä¸­é—´ä¸»åŠ¨è¿›è¡Œæ¶ˆæ¯åŒæ­¥ï¼Œè€Œä¸æ˜¯åœ¨å®¢æˆ·ç«¯æ‹‰å–æ¶ˆæ¯æ—¶ä¸´æ—¶åŒæ­¥ã€‚</p><p>å¹¶ä¸”åœ¨é›†ç¾¤å†…éƒ¨æœ‰ä¸€ä¸ªç®—æ³•ä¼šé€‰ä¸¾äº§ç”Ÿmasterå’Œslaveï¼Œå½“ä¸€ä¸ªmasteræŒ‚äº†åï¼Œä¹Ÿä¼šè‡ªåŠ¨é€‰å‡ºä¸€ä¸ªæ¥ã€‚ä»è€Œç»™æ•´ä¸ªé›†ç¾¤æä¾›é«˜å¯ç”¨èƒ½åŠ›ã€‚</p><p>è¿™ç§æ¨¡å¼çš„æ¶ˆæ¯å¯é æ€§æ›´é«˜ï¼Œå› ä¸ºæ¯ä¸ªèŠ‚ç‚¹ä¸Šéƒ½å­˜ç€å…¨é‡çš„æ¶ˆæ¯ã€‚è€Œä»–çš„å¼Šç«¯ä¹Ÿæ˜¯æ˜æ˜¾çš„ï¼Œé›†ç¾¤å†…éƒ¨çš„ç½‘ç»œå¸¦å®½ä¼šè¢«è¿™ç§åŒæ­¥é€šè®¯å¤§é‡çš„æ¶ˆè€—ï¼Œè¿›è€Œé™ä½æ•´ä¸ªé›†ç¾¤çš„æ€§èƒ½ã€‚è¿™ç§æ¨¡å¼ä¸‹ï¼Œé˜Ÿåˆ—æ•°é‡æœ€å¥½ä¸è¦è¿‡å¤šã€‚</p></li></ul><h3 id="æ­å»ºæ™®é€šé›†ç¾¤" tabindex="-1"><a class="header-anchor" href="#æ­å»ºæ™®é€šé›†ç¾¤"><span>æ­å»ºæ™®é€šé›†ç¾¤</span></a></h3><p>1ï¼šéœ€è¦åŒæ­¥é›†ç¾¤èŠ‚ç‚¹ä¸­çš„cookieã€‚</p><p>é»˜è®¤ä¼šåœ¨ /var/lib/rabbitmq/ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª.erlang.cookieã€‚ é‡Œé¢æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚æˆ‘ä»¬è¦åšçš„å°±æ˜¯ä¿è¯é›†ç¾¤ä¸­ä¸‰ä¸ªèŠ‚ç‚¹çš„è¿™ä¸ªcookieå­—ç¬¦ä¸²ä¸€è‡´ã€‚</p><p>æˆ‘ä»¬å®éªŒä¸­å°†worker1å’Œworker3åŠ å…¥åˆ°worker2çš„RabbitMQé›†ç¾¤ä¸­ï¼Œæ‰€ä»¥å°†worker2çš„.erlang.cookieæ–‡ä»¶åˆ†å‘åˆ°worker1å’Œworker3ã€‚</p><p>2ï¼šå°†worker1çš„æœåŠ¡åŠ å…¥åˆ°worker2çš„é›†ç¾¤ä¸­ã€‚</p><p>é¦–å…ˆéœ€è¦ä¿è¯worker1ä¸Šçš„rabbitmqæœåŠ¡æ˜¯æ­£å¸¸å¯åŠ¨çš„ã€‚ ç„¶åæ‰§è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@worker1 rabbitmq<span class="token punctuation">]</span><span class="token comment"># rabbitmqctl stop_app</span>
Stopping rabbit application on <span class="token function">node</span> rabbit@worker1 <span class="token punctuation">..</span>.
<span class="token punctuation">[</span>root@worker1 rabbitmq<span class="token punctuation">]</span><span class="token comment"># rabbitmqctl join_cluster --ram rabbit@worker2</span>
Clustering <span class="token function">node</span> rabbit@worker1 with rabbit@worker2
<span class="token punctuation">[</span>root@worker1 rabbitmq<span class="token punctuation">]</span><span class="token comment"># rabbitmqctl start_app</span>
Starting <span class="token function">node</span> rabbit@worker1 <span class="token punctuation">..</span>.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>--ram è¡¨ç¤ºä»¥RamèŠ‚ç‚¹åŠ å…¥é›†ç¾¤ã€‚RabbitMQçš„é›†ç¾¤èŠ‚ç‚¹åˆ†ä¸ºdiskå’Œramã€‚diskèŠ‚ç‚¹ä¼šå°†å…ƒæ•°æ®ä¿å­˜åˆ°ç¡¬ç›˜å½“ä¸­ï¼Œè€ŒramèŠ‚ç‚¹åªæ˜¯åœ¨å†…å­˜ä¸­ä¿å­˜å…ƒæ•°æ®ã€‚</p><p>1ã€ç”±äºramèŠ‚ç‚¹å‡å°‘äº†å¾ˆå¤šä¸ç¡¬ç›˜çš„äº¤äº’ï¼Œæ‰€ä»¥ï¼ŒramèŠ‚ç‚¹çš„å…ƒæ•°æ®ä½¿ç”¨æ€§èƒ½ä¼šæ¯”è¾ƒé«˜ã€‚ä½†æ˜¯ï¼ŒåŒæ—¶ï¼Œè¿™ä¹Ÿæ„å‘³ç€å…ƒæ•°æ®çš„å®‰å…¨æ€§æ˜¯ä¸å¦‚diskèŠ‚ç‚¹çš„ã€‚åœ¨æˆ‘ä»¬è¿™ä¸ªé›†ç¾¤ä¸­ï¼Œworker1å’Œworker3éƒ½ä»¥ramèŠ‚ç‚¹çš„èº«ä»½åŠ å…¥åˆ°worker2é›†ç¾¤é‡Œï¼Œå› æ­¤ï¼Œæ˜¯å­˜åœ¨å•ç‚¹æ•…éšœçš„ã€‚å¦‚æœworker2èŠ‚ç‚¹æœåŠ¡å´©æºƒï¼Œé‚£ä¹ˆå…ƒæ•°æ®å°±æœ‰å¯èƒ½ä¸¢å¤±ã€‚åœ¨ä¼ä¸šè¿›è¡Œéƒ¨ç½²æ—¶ï¼Œæ€§èƒ½ä¸å®‰å…¨æ€§éœ€è¦è‡ªå·±è¿›è¡Œå¹³è¡¡ã€‚</p><p>2ã€è¿™é‡Œè¯´çš„å…ƒæ•°æ®ä»…ä»…åªåŒ…å«äº¤æ¢æœºã€é˜Ÿåˆ—ç­‰çš„å®šä¹‰ï¼Œè€Œä¸åŒ…å«å…·ä½“çš„æ¶ˆæ¯ã€‚å› æ­¤ï¼ŒramèŠ‚ç‚¹çš„æ€§èƒ½æå‡ï¼Œä»…ä»…ä½“ç°åœ¨å¯¹å…ƒæ•°æ®è¿›è¡Œç®¡ç†æ—¶ï¼Œæ¯”å¦‚ä¿®æ”¹é˜Ÿåˆ—queueï¼Œäº¤æ¢æœºexchangeï¼Œè™šæ‹Ÿæœºvhostsç­‰æ—¶ï¼Œä¸æ¶ˆæ¯çš„ç”Ÿäº§å’Œæ¶ˆè´¹é€Ÿåº¦æ— å…³ã€‚</p><p>3ã€å¦‚æœä¸€ä¸ªé›†ç¾¤ä¸­ï¼Œå…¨éƒ¨éƒ½æ˜¯ramèŠ‚ç‚¹ï¼Œé‚£ä¹ˆå…ƒæ•°æ®å°±æœ‰å¯èƒ½ä¸¢å¤±ã€‚è¿™ä¼šé€ æˆé›†ç¾¤åœæ­¢ä¹‹åå°±å¯åŠ¨ä¸èµ·æ¥äº†ã€‚RabbitMQä¼šå°½é‡é˜»æ­¢åˆ›å»ºä¸€ä¸ªå…¨æ˜¯ramèŠ‚ç‚¹çš„é›†ç¾¤ï¼Œä½†æ˜¯å¹¶ä¸èƒ½å½»åº•é˜»æ­¢ã€‚æ‰€ä»¥ï¼Œç»¼åˆè€ƒè™‘ï¼Œå®˜æ–¹å…¶å®å¹¶ä¸å»ºè®®ä½¿ç”¨ramèŠ‚ç‚¹ï¼Œæ›´æ¨èä¿è¯é›†ç¾¤ä¸­èŠ‚ç‚¹çš„èµ„æºæŠ•å…¥ï¼Œä½¿ç”¨diskèŠ‚ç‚¹ã€‚</p></blockquote><p>ç„¶ååŒæ ·æŠŠworer3ä¸Šçš„rabbitmqåŠ å…¥åˆ°worker2çš„é›†ç¾¤ä¸­ã€‚</p><p>åŠ å…¥å®Œæˆåï¼Œå¯ä»¥åœ¨worker2çš„Webç®¡ç†ç•Œé¢ä¸Šçœ‹åˆ°é›†ç¾¤çš„èŠ‚ç‚¹æƒ…å†µï¼š</p><p><img src="https://img.jssjqd.cn/202212040127829.png" alt="image-20221204012725683"></p><blockquote><p>ä¹Ÿå¯ä»¥ç”¨åå°æŒ‡ä»¤æŸ¥çœ‹é›†ç¾¤çŠ¶æ€ rabbitmqctl cluster_status</p></blockquote><h3 id="æ­å»ºé•œåƒé›†ç¾¤" tabindex="-1"><a class="header-anchor" href="#æ­å»ºé•œåƒé›†ç¾¤"><span>æ­å»ºé•œåƒé›†ç¾¤</span></a></h3><p>è¿™æ ·å°±å®Œæˆäº†æ™®é€šé›†ç¾¤çš„æ­å»ºã€‚ å†æ­¤åŸºç¡€ä¸Šï¼Œå¯ä»¥ç»§ç»­æ­å»º<strong>é•œåƒé›†ç¾¤</strong>ã€‚</p><p>é€šå¸¸åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œä¸ºäº†å‡å°‘RabbitMQé›†ç¾¤ä¹‹é—´çš„æ•°æ®ä¼ è¾“ï¼Œåœ¨é…ç½®é•œåƒç­–ç•¥æ—¶ï¼Œä¼šé’ˆå¯¹å›ºå®šçš„è™šæ‹Ÿä¸»æœºvirtual hostæ¥é…ç½®ã€‚</p><blockquote><p>RabbitMQä¸­çš„virtual hostå¯ä»¥ç±»æ¯”ä¸ºMySQLä¸­çš„åº“ï¼Œé’ˆå¯¹æ¯ä¸ªè™šæ‹Ÿä¸»æœºï¼Œå¯ä»¥é…ç½®ä¸åŒçš„æƒé™ã€ç­–ç•¥ç­‰ã€‚å¹¶ä¸”ä¸åŒè™šæ‹Ÿä¸»æœºä¹‹é—´çš„æ•°æ®æ˜¯ç›¸äº’éš”ç¦»çš„ã€‚</p></blockquote><p>æˆ‘ä»¬é¦–å…ˆåˆ›å»ºä¸€ä¸ª/mirrorçš„è™šæ‹Ÿä¸»æœºï¼Œç„¶åå†æ·»åŠ ç»™å¯¹åº”çš„é•œåƒç­–ç•¥ï¼š</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>[root@worker2 rabbitmq]# rabbitmqctl add_vhost /mirror
Adding vhost &quot;/mirror&quot; ...
[root@worker2 rabbitmq]# rabbitmqctl set_policy ha-all --vhost &quot;/mirror&quot; &quot;^&quot; &#39;{&quot;ha-mode&quot;:&quot;all&quot;}&#39;
Setting policy &quot;ha-all&quot; for pattern &quot;^&quot; to &quot;{&quot;ha-mode&quot;:&quot;all&quot;}&quot; with priority &quot;0&quot; for vhost &quot;/mirror&quot; ...
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åŒæ ·ï¼Œè¿™äº›é…ç½®çš„ç­–ç•¥ä¹Ÿå¯ä»¥åœ¨Webæ§åˆ¶å°æ“ä½œã€‚å¦å¤–ä¹Ÿæä¾›äº†HTTP APIæ¥è¿›è¡Œè¿™äº›æ“ä½œã€‚</p><p><img src="https://img.jssjqd.cn/202212040127657.png" alt="image-20221204012735597"></p><blockquote><p>è¿™äº›å‚æ•°éœ€è¦å¤§è‡´äº†è§£ä¸‹ã€‚å…¶ä¸­ï¼Œpatternæ˜¯é˜Ÿåˆ—çš„åŒ¹é…è§„åˆ™, ^è¡¨ç¤ºå…¨éƒ¨åŒ¹é…ã€‚ ^ ha \ è¿™æ ·çš„é…ç½®è¡¨ç¤ºä»¥haå¼€å¤´ã€‚é€šå¸¸å°±ç”¨è™šæ‹Ÿä¸»æœºæ¥åŒºåˆ†å°±å¤Ÿäº†ï¼Œè¿™ä¸ªé˜Ÿåˆ—åŒ¹é…è§„åˆ™å°±é…ç½®æˆå…¨åŒ¹é…ã€‚</p><p>ç„¶åå‡ ä¸ªå…³é”®çš„å‚æ•°ï¼š</p><p>HA mode: å¯é€‰å€¼ all , exactly, nodesã€‚ç”Ÿäº§ä¸Šé€šå¸¸ä¸ºäº†ä¿è¯é«˜å¯ç”¨ï¼Œå°±é…all</p><ul><li>all : é˜Ÿåˆ—é•œåƒåˆ°é›†ç¾¤ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚å½“æ–°èŠ‚ç‚¹åŠ å…¥é›†ç¾¤æ—¶ï¼Œé˜Ÿåˆ—ä¹Ÿä¼šè¢«é•œåƒåˆ°è¿™ä¸ªèŠ‚ç‚¹ã€‚</li><li>exactly : éœ€è¦æ­é…ä¸€ä¸ªæ•°å­—ç±»å‹çš„å‚æ•°(ha-params)ã€‚é˜Ÿåˆ—é•œåƒåˆ°é›†ç¾¤ä¸­æŒ‡å®šæ•°é‡çš„èŠ‚ç‚¹ã€‚å¦‚æœé›†ç¾¤å†…èŠ‚ç‚¹æ•°å°‘äºè¿™ä¸ªæ•°å­—ï¼Œåˆ™é˜Ÿåˆ—é•œåƒåˆ°é›†ç¾¤å†…çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚å¦‚æœé›†ç¾¤å†…èŠ‚ç‚¹å°‘äºè¿™ä¸ªæ•°ï¼Œå½“ä¸€ä¸ªåŒ…å«é•œåƒçš„èŠ‚ç‚¹åœæ­¢æœåŠ¡åï¼Œæ–°çš„é•œåƒå°±ä¸ä¼šå»å¦å¤–æ‰¾èŠ‚ç‚¹è¿›è¡Œé•œåƒå¤‡ä»½äº†ã€‚</li><li>nodes: éœ€è¦æ­é…ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„å‚æ•°ã€‚å°†é˜Ÿåˆ—é•œåƒåˆ°æŒ‡å®šçš„èŠ‚ç‚¹ä¸Šã€‚å¦‚æœæŒ‡å®šçš„é˜Ÿåˆ—ä¸åœ¨é›†ç¾¤ä¸­ï¼Œä¸ä¼šæŠ¥é”™ã€‚å½“å£°æ˜é˜Ÿåˆ—æ—¶ï¼Œå¦‚æœæŒ‡å®šçš„æ‰€æœ‰é•œåƒèŠ‚ç‚¹éƒ½ä¸åœ¨çº¿ï¼Œé‚£é˜Ÿåˆ—ä¼šè¢«åˆ›å»ºåœ¨å‘èµ·å£°æ˜çš„å®¢æˆ·ç«¯èŠ‚ç‚¹ä¸Šã€‚</li></ul><p>è¿˜æœ‰å…¶ä»–å¾ˆå¤šå‚æ•°ï¼Œå¯ä»¥åé¢æ…¢æ…¢å†äº†è§£ã€‚</p></blockquote><p>é€šå¸¸é•œåƒæ¨¡å¼çš„é›†ç¾¤å·²ç»è¶³å¤Ÿæ»¡è¶³å¤§éƒ¨åˆ†çš„ç”Ÿäº§åœºæ™¯äº†ã€‚è™½ç„¶ä»–å¯¹ç³»ç»Ÿèµ„æºæ¶ˆè€—æ¯”è¾ƒé«˜ï¼Œä½†æ˜¯åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œç³»ç»Ÿçš„èµ„æºéƒ½æ˜¯ä¼šåšé¢„ç•™çš„ï¼Œæ‰€ä»¥æ­£å¸¸çš„ä½¿ç”¨æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚ä½†æ˜¯åœ¨åšä¸šåŠ¡é›†æˆæ—¶ï¼Œè¿˜æ˜¯éœ€è¦æ³¨æ„é˜Ÿåˆ—æ•°é‡ä¸å®œè¿‡å¤šï¼Œå¹¶ä¸”å°½é‡ä¸è¦è®©RabbitMQäº§ç”Ÿå¤§é‡çš„æ¶ˆæ¯å †ç§¯ã€‚</p><blockquote><p>è¿™æ ·æ­å»ºèµ·æ¥çš„RabbitMQå·²ç»å…·å¤‡äº†é›†ç¾¤ç‰¹æ€§ï¼Œå¾€ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹ä¸Šå‘é€æ¶ˆæ¯ï¼Œæ¶ˆæ¯éƒ½ä¼šåŠæ—¶åŒæ­¥åˆ°å„ä¸ªèŠ‚ç‚¹ä¸­ã€‚è€Œåœ¨å®é™…ä¼ä¸šéƒ¨ç½²æ—¶ï¼Œå¾€å¾€ä¼šä»¥RabbitMQçš„é•œåƒé˜Ÿåˆ—ä½œä¸ºåŸºç¡€ï¼Œå†å¢åŠ ä¸€äº›è¿ç»´æ‰‹æ®µï¼Œè¿›ä¸€æ­¥æé«˜é›†ç¾¤çš„å®‰å…¨æ€§å’Œå®ç”¨æ€§ã€‚</p><p>ä¾‹å¦‚ï¼Œå¢åŠ keepalivedä¿è¯æ¯ä¸ªRabbitMQçš„ç¨³å®šæ€§ï¼Œå½“æŸä¸€ä¸ªèŠ‚ç‚¹ä¸Šçš„RabbitMQæœåŠ¡å´©æºƒæ—¶ï¼Œå¯ä»¥åŠæ—¶é‡æ–°å¯åŠ¨èµ·æ¥ã€‚å¦å¤–ï¼Œä¹Ÿå¯ä»¥å¢åŠ HA-proxyæ¥åšå‰ç«¯çš„è´Ÿè½½å‡è¡¡ï¼Œé€šè¿‡HA-proxyå¢åŠ ä¸€ä¸ªå‰ç«¯è½¬å‘çš„è™šæ‹ŸèŠ‚ç‚¹ï¼Œåº”ç”¨å¯ä»¥åƒä½¿ç”¨ä¸€ä¸ªå•ç‚¹æœåŠ¡ä¸€æ ·ä½¿ç”¨ä¸€ä¸ªRabbitMQé›†ç¾¤ã€‚è¿™äº›è¿ç»´æ–¹æ¡ˆæˆ‘ä»¬å°±ä¸åšè¿‡å¤šä»‹ç»äº†ï¼Œæœ‰å…´è¶£å¯ä»¥è‡ªå·±äº†è§£ä¸‹ã€‚</p></blockquote><h3 id="rabbitmqåŸºç¡€ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#rabbitmqåŸºç¡€ä½¿ç”¨"><span>RabbitMQåŸºç¡€ä½¿ç”¨</span></a></h3><p>RabbitMQæ­å»ºå®Œæˆåï¼Œå¯ä»¥åœ¨Webæ§åˆ¶å°ä¸Šé€‰æ‹©Exchangeæˆ–è€…Queueæ¥å‘é€æ¶ˆæ¯äº†ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•ä½“éªŒä¸‹ï¼Œä¹Ÿå¯ä»¥ç•™åˆ°ä¸‹ä¸€éƒ¨åˆ†ç¼–ç¨‹æ¨¡å‹æ—¶å†æ·±å…¥ä½“éªŒã€‚</p><p>ä¾‹å¦‚ï¼Œå…ˆåœ¨Adminèœå•ï¼Œé…ç½®adminç”¨æˆ·å¯ä»¥æ“ä½œ/mirrorè™šæ‹Ÿæœºã€‚</p><p><img src="https://img.jssjqd.cn/202212040127215.png" alt="image-20221204012744908"></p><p>ç„¶åï¼Œåˆ›å»ºä¸€ä¸ªç»å…¸é˜Ÿåˆ—ã€‚</p><p><img src="https://img.jssjqd.cn/202212040127932.png" alt="image-20221204012751095"></p><p>åˆ›å»ºå®Œæˆåï¼Œé€‰æ‹©è¿™ä¸ªtest1é˜Ÿåˆ—ï¼Œå°±å¯ä»¥åœ¨é¡µé¢ä¸Šç›´æ¥å‘é€æ¶ˆæ¯ä»¥åŠæ¶ˆè´¹æ¶ˆæ¯äº†ã€‚</p><p><img src="https://img.jssjqd.cn/202212040128813.png" alt="image-20221204012800356"></p><blockquote><p>åœ¨æ•´ä½“ä½¿ç”¨è¿‡ç¨‹ä¸­ä½ ä¼šå‘ç°ï¼Œå¯¹äºé˜Ÿåˆ—ï¼Œæœ‰Classicã€Quorumã€Streamä¸‰ç§ç±»å‹ï¼Œå…¶ä¸­ï¼ŒClassicå’ŒQuorumä¸¤ç§ç±»å‹ï¼Œä½¿ç”¨ä¸Šå‡ ä¹æ˜¯æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«çš„ã€‚ä½†æ˜¯Streamé˜Ÿåˆ—å°±æ— æ³•ç›´æ¥æ¶ˆè´¹æ¶ˆæ¯äº†ã€‚è¿™ç§åŒºåˆ«ä¹Ÿä¼šå¸¦åˆ°åé¢çš„ä½¿ç”¨è¿‡ç¨‹ä¸­ã€‚</p></blockquote><p>ç„¶åï¼ŒRabbitMQçš„å„ç§ç®¡ç†åŠŸèƒ½ï¼Œæ•´ç†ä¸Šè¿˜æ˜¯éå¸¸ç®€å•çš„ï¼Œå‡ ä¹æ‰€æœ‰çš„é…ç½®éƒ½å¯ä»¥åœ¨Webç®¡ç†é¡µé¢ä¸Šç›´è§‚çš„çœ‹åˆ°ï¼Œå¹¶ç›´æ¥å®Œæˆæ“ä½œã€‚åŒæ—¶ï¼Œè¿™äº›ç®¡ç†åŠŸèƒ½ï¼Œä¹Ÿéƒ½å¯ä»¥é€šè¿‡åç«¯çš„å‘½ä»¤è¡Œå·¥å…·è¿›è¡Œã€‚åœ¨è¿›è¡Œä½“éªŒçš„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿå¯ä»¥è‡ªè¡Œå°è¯•äº†è§£åç«¯é…ç½®çš„å„ç§æŒ‡ä»¤ã€‚æ¯ä¸ªæŒ‡ä»¤éƒ½æœ‰helpå¸®åŠ©æ–‡æ¡£ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œå°è¯•äº†è§£ã€‚</p></div><!--[--><!----><!--]--><footer class="page-meta"><!----><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: thejqd@gmail.com">jiangqingdong</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><!----><a class="route-link nav-link next" href="/pages/def779/" aria-label="RabbitMQä½¿ç”¨ä¸­çš„å¸¸è§é—®é¢˜"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">RabbitMQä½¿ç”¨ä¸­çš„å¸¸è§é—®é¢˜<!----></div></a></nav><!----><!--[--><!----><!--]--><!--]--></main><!--]--><!----></div><!--]--><!--]--><!--[--><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-CcJZcE5q.js" defer></script>
  </body>
</html>
