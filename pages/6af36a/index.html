<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.62" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://mister-hope.github.io/pages/6af36a/"><meta property="og:site_name" content="å­¦ä¹ ç¬”è®°"><meta property="og:title" content="Redisä¸»ä»ä¸å“¨å…µæ¶æ„"><meta property="og:description" content="Redisä¸»ä»æ¶æ„ â€‹ ä¸»ä»å¤åˆ¶çš„ä½œç”¨ä¸»è¦åŒ…æ‹¬ï¼š æ•°æ®å†—ä½™ï¼šä¸»ä»å¤åˆ¶å®ç°äº†æ•°æ®çš„çƒ­å¤‡ä»½ï¼Œæ˜¯æŒä¹…åŒ–ä¹‹å¤–çš„ä¸€ç§æ•°æ®å†—ä½™æ–¹å¼ã€‚ æ•…éšœæ¢å¤ï¼šå½“ä¸»èŠ‚ç‚¹å‡ºç°é—®é¢˜æ—¶ï¼Œå¯ä»¥ç”±ä»èŠ‚ç‚¹æä¾›æœåŠ¡ï¼Œå®ç°å¿«é€Ÿçš„æ•…éšœæ¢å¤ï¼›å®é™…ä¸Šæ˜¯ä¸€ç§æœåŠ¡çš„å†—ä½™ã€‚ è´Ÿè½½å‡è¡¡ï¼šåœ¨ä¸»ä»å¤åˆ¶çš„åŸºç¡€ä¸Šï¼Œé…åˆè¯»å†™åˆ†ç¦»ï¼Œå¯ä»¥ç”±ä¸»èŠ‚ç‚¹æä¾›å†™æœåŠ¡ï¼Œç”±ä»èŠ‚ç‚¹æä¾›è¯»æœåŠ¡ï¼ˆå³å†™ Redis æ•°æ®æ—¶åº”ç”¨è¿æ¥ä¸»èŠ‚ç‚¹ï¼Œè¯» Redis æ•°æ®æ—¶åº”ç”¨è¿æ¥ä»èŠ‚ç‚¹ï¼‰ï¼Œåˆ†æ‹…æœåŠ¡å™¨è´Ÿè½½ï¼›å°¤å…¶æ˜¯åœ¨å†™å°‘è¯»å¤šçš„åœºæ™¯ä¸‹ï¼Œé€šè¿‡å¤šä¸ªä»èŠ‚ç‚¹åˆ†æ‹…è¯»è´Ÿè½½ï¼Œå¯ä»¥å¤§å¤§æé«˜ Redis æœåŠ¡å™¨çš„å¹¶å‘é‡ã€‚ é«˜å¯ç”¨åŸºçŸ³ï¼šé™¤äº†ä¸Šè¿°ä½œç”¨ä»¥å¤–ï¼Œä¸»ä»å¤åˆ¶è¿˜æ˜¯å“¨å…µå’Œé›†ç¾¤èƒ½å¤Ÿå®æ–½çš„åŸºç¡€ï¼Œå› æ­¤è¯´ä¸»ä»å¤åˆ¶æ˜¯ Redis é«˜å¯ç”¨çš„åŸºç¡€ã€‚"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-08-03T16:58:58.000Z"><meta property="article:author" content="æ±Ÿ"><meta property="article:published_time" content="2022-12-03T22:09:58.000Z"><meta property="article:modified_time" content="2023-08-03T16:58:58.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Redisä¸»ä»ä¸å“¨å…µæ¶æ„","image":[""],"datePublished":"2022-12-03T22:09:58.000Z","dateModified":"2023-08-03T16:58:58.000Z","author":[{"@type":"Person","name":"æ±Ÿ"}]}</script><title>Redisä¸»ä»ä¸å“¨å…µæ¶æ„ | å­¦ä¹ ç¬”è®°</title><meta name="description" content="Redisä¸»ä»æ¶æ„ â€‹ ä¸»ä»å¤åˆ¶çš„ä½œç”¨ä¸»è¦åŒ…æ‹¬ï¼š æ•°æ®å†—ä½™ï¼šä¸»ä»å¤åˆ¶å®ç°äº†æ•°æ®çš„çƒ­å¤‡ä»½ï¼Œæ˜¯æŒä¹…åŒ–ä¹‹å¤–çš„ä¸€ç§æ•°æ®å†—ä½™æ–¹å¼ã€‚ æ•…éšœæ¢å¤ï¼šå½“ä¸»èŠ‚ç‚¹å‡ºç°é—®é¢˜æ—¶ï¼Œå¯ä»¥ç”±ä»èŠ‚ç‚¹æä¾›æœåŠ¡ï¼Œå®ç°å¿«é€Ÿçš„æ•…éšœæ¢å¤ï¼›å®é™…ä¸Šæ˜¯ä¸€ç§æœåŠ¡çš„å†—ä½™ã€‚ è´Ÿè½½å‡è¡¡ï¼šåœ¨ä¸»ä»å¤åˆ¶çš„åŸºç¡€ä¸Šï¼Œé…åˆè¯»å†™åˆ†ç¦»ï¼Œå¯ä»¥ç”±ä¸»èŠ‚ç‚¹æä¾›å†™æœåŠ¡ï¼Œç”±ä»èŠ‚ç‚¹æä¾›è¯»æœåŠ¡ï¼ˆå³å†™ Redis æ•°æ®æ—¶åº”ç”¨è¿æ¥ä¸»èŠ‚ç‚¹ï¼Œè¯» Redis æ•°æ®æ—¶åº”ç”¨è¿æ¥ä»èŠ‚ç‚¹ï¼‰ï¼Œåˆ†æ‹…æœåŠ¡å™¨è´Ÿè½½ï¼›å°¤å…¶æ˜¯åœ¨å†™å°‘è¯»å¤šçš„åœºæ™¯ä¸‹ï¼Œé€šè¿‡å¤šä¸ªä»èŠ‚ç‚¹åˆ†æ‹…è¯»è´Ÿè½½ï¼Œå¯ä»¥å¤§å¤§æé«˜ Redis æœåŠ¡å™¨çš„å¹¶å‘é‡ã€‚ é«˜å¯ç”¨åŸºçŸ³ï¼šé™¤äº†ä¸Šè¿°ä½œç”¨ä»¥å¤–ï¼Œä¸»ä»å¤åˆ¶è¿˜æ˜¯å“¨å…µå’Œé›†ç¾¤èƒ½å¤Ÿå®æ–½çš„åŸºç¡€ï¼Œå› æ­¤è¯´ä¸»ä»å¤åˆ¶æ˜¯ Redis é«˜å¯ç”¨çš„åŸºç¡€ã€‚">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-850a8bcc.css" as="style"><link rel="stylesheet" href="/assets/style-850a8bcc.css">
    <link rel="modulepreload" href="/assets/app-6d45e392.js"><link rel="modulepreload" href="/assets/index.html-a8c6716d.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-c27b6911.js"><link rel="modulepreload" href="/assets/index.html-f7b308d3.js"><link rel="prefetch" href="/assets/index.html-bba30501.js" as="script"><link rel="prefetch" href="/assets/index.html-6e9240b9.js" as="script"><link rel="prefetch" href="/assets/index.html-475cb0e6.js" as="script"><link rel="prefetch" href="/assets/index.html-df2a795e.js" as="script"><link rel="prefetch" href="/assets/04-Springä¹‹Beanç”Ÿå‘½å‘¨æœŸæºç è§£æä¸Š.html-6373254a.js" as="script"><link rel="prefetch" href="/assets/index.html-f49d6e12.js" as="script"><link rel="prefetch" href="/assets/index.html-061b9a53.js" as="script"><link rel="prefetch" href="/assets/index.html-9a702514.js" as="script"><link rel="prefetch" href="/assets/index.html-3c8399ed.js" as="script"><link rel="prefetch" href="/assets/index.html-8bac4fe2.js" as="script"><link rel="prefetch" href="/assets/index.html-a0b7d616.js" as="script"><link rel="prefetch" href="/assets/index.html-84ef939d.js" as="script"><link rel="prefetch" href="/assets/index.html-87ed9aa0.js" as="script"><link rel="prefetch" href="/assets/index.html-bde3909f.js" as="script"><link rel="prefetch" href="/assets/index.html-ef85629f.js" as="script"><link rel="prefetch" href="/assets/index.html-2bc4d19e.js" as="script"><link rel="prefetch" href="/assets/index.html-a0023da4.js" as="script"><link rel="prefetch" href="/assets/index.html-758b8de4.js" as="script"><link rel="prefetch" href="/assets/index.html-b3092d02.js" as="script"><link rel="prefetch" href="/assets/index.html-65bf5569.js" as="script"><link rel="prefetch" href="/assets/index.html-110bf219.js" as="script"><link rel="prefetch" href="/assets/index.html-4dbee09d.js" as="script"><link rel="prefetch" href="/assets/index.html-cc9d808d.js" as="script"><link rel="prefetch" href="/assets/index.html-b39fa39e.js" as="script"><link rel="prefetch" href="/assets/index.html-9997c7c4.js" as="script"><link rel="prefetch" href="/assets/index.html-bb210c51.js" as="script"><link rel="prefetch" href="/assets/index.html-2b609943.js" as="script"><link rel="prefetch" href="/assets/index.html-a385b3e2.js" as="script"><link rel="prefetch" href="/assets/index.html-d27602b9.js" as="script"><link rel="prefetch" href="/assets/index.html-824c3f2b.js" as="script"><link rel="prefetch" href="/assets/100.é«˜å¹¶å‘ç¼“å­˜å®æˆ˜.html-db1bbf23.js" as="script"><link rel="prefetch" href="/assets/index.html-e1b95bee.js" as="script"><link rel="prefetch" href="/assets/30.å¾®æœåŠ¡æ¶æ„æ‹†åˆ†å®æˆ˜.html-04738cc4.js" as="script"><link rel="prefetch" href="/assets/index.html-2b42c9a6.js" as="script"><link rel="prefetch" href="/assets/50.å¾®æœåŠ¡ç½‘å…³æ•´åˆOAuth2.0æˆæƒä¸­å¿ƒ.html-db62c592.js" as="script"><link rel="prefetch" href="/assets/index.html-4121d5d7.js" as="script"><link rel="prefetch" href="/assets/index.html-57c7f32a.js" as="script"><link rel="prefetch" href="/assets/index.html-c8cc8279.js" as="script"><link rel="prefetch" href="/assets/index.html-cdad1aaf.js" as="script"><link rel="prefetch" href="/assets/index.html-0a2b44f0.js" as="script"><link rel="prefetch" href="/assets/index.html-f48dce59.js" as="script"><link rel="prefetch" href="/assets/index.html-4afd42c7.js" as="script"><link rel="prefetch" href="/assets/index.html-c2c6322c.js" as="script"><link rel="prefetch" href="/assets/index.html-d40fb462.js" as="script"><link rel="prefetch" href="/assets/index.html-4796b4d0.js" as="script"><link rel="prefetch" href="/assets/index.html-ff53f267.js" as="script"><link rel="prefetch" href="/assets/index.html-4d48b6e7.js" as="script"><link rel="prefetch" href="/assets/index.html-22237176.js" as="script"><link rel="prefetch" href="/assets/06.MySQLäº‹åŠ¡åŸç†ä¸ä¼˜åŒ–æœ€ä½³å®è·µ.html-2f991798.js" as="script"><link rel="prefetch" href="/assets/index.html-f80752d4.js" as="script"><link rel="prefetch" href="/assets/index.html-f68ff14e.js" as="script"><link rel="prefetch" href="/assets/index.html-399eb32a.js" as="script"><link rel="prefetch" href="/assets/index.html-a6aff505.js" as="script"><link rel="prefetch" href="/assets/index.html-acd4067d.js" as="script"><link rel="prefetch" href="/assets/index.html-67341afa.js" as="script"><link rel="prefetch" href="/assets/index.html-5e21be11.js" as="script"><link rel="prefetch" href="/assets/index.html-0d4b784f.js" as="script"><link rel="prefetch" href="/assets/20.ShardingJDBCæºç ä¸å†…æ ¸è§£æ.html-71c0f603.js" as="script"><link rel="prefetch" href="/assets/index.html-73a2dd1b.js" as="script"><link rel="prefetch" href="/assets/index.html-672da43e.js" as="script"><link rel="prefetch" href="/assets/index.html-f0edeb3c.js" as="script"><link rel="prefetch" href="/assets/index.html-ab54a6f3.js" as="script"><link rel="prefetch" href="/assets/index.html-d4be5d59.js" as="script"><link rel="prefetch" href="/assets/index.html-80b92347.js" as="script"><link rel="prefetch" href="/assets/index.html-0da9e1c6.js" as="script"><link rel="prefetch" href="/assets/index.html-5fbc8245.js" as="script"><link rel="prefetch" href="/assets/index.html-d9a6d1be.js" as="script"><link rel="prefetch" href="/assets/index.html-884cd1cf.js" as="script"><link rel="prefetch" href="/assets/index.html-3cc02b39.js" as="script"><link rel="prefetch" href="/assets/index.html-9d9f6e80.js" as="script"><link rel="prefetch" href="/assets/index.html-c4985c46.js" as="script"><link rel="prefetch" href="/assets/index.html-0ad213fd.js" as="script"><link rel="prefetch" href="/assets/index.html-65437f8f.js" as="script"><link rel="prefetch" href="/assets/index.html-26d20cf1.js" as="script"><link rel="prefetch" href="/assets/index.html-8ef93226.js" as="script"><link rel="prefetch" href="/assets/index.html-180336df.js" as="script"><link rel="prefetch" href="/assets/index.html-9bfca606.js" as="script"><link rel="prefetch" href="/assets/index.html-db2aad34.js" as="script"><link rel="prefetch" href="/assets/index.html-48009edc.js" as="script"><link rel="prefetch" href="/assets/index.html-02980b5f.js" as="script"><link rel="prefetch" href="/assets/index.html-b94e89dc.js" as="script"><link rel="prefetch" href="/assets/index.html-fc9d4c27.js" as="script"><link rel="prefetch" href="/assets/index.html-a2c03602.js" as="script"><link rel="prefetch" href="/assets/index.html-ddd0848e.js" as="script"><link rel="prefetch" href="/assets/index.html-0c150beb.js" as="script"><link rel="prefetch" href="/assets/index.html-2fc65ea1.js" as="script"><link rel="prefetch" href="/assets/index.html-e2aafaa6.js" as="script"><link rel="prefetch" href="/assets/index.html-91e14f17.js" as="script"><link rel="prefetch" href="/assets/index.html-bf422f4d.js" as="script"><link rel="prefetch" href="/assets/index.html-b5d81e05.js" as="script"><link rel="prefetch" href="/assets/index.html-4cbb1b2b.js" as="script"><link rel="prefetch" href="/assets/index.html-d39437a2.js" as="script"><link rel="prefetch" href="/assets/index.html-2789544e.js" as="script"><link rel="prefetch" href="/assets/index.html-2f2d3b09.js" as="script"><link rel="prefetch" href="/assets/index.html-6a2d4ab8.js" as="script"><link rel="prefetch" href="/assets/index.html-ff2f82d1.js" as="script"><link rel="prefetch" href="/assets/index.html-9905b46e.js" as="script"><link rel="prefetch" href="/assets/index.html-6117fdaf.js" as="script"><link rel="prefetch" href="/assets/index.html-d5a2010d.js" as="script"><link rel="prefetch" href="/assets/index.html-0f6a6f5a.js" as="script"><link rel="prefetch" href="/assets/index.html-50f991ab.js" as="script"><link rel="prefetch" href="/assets/index.html-14e38234.js" as="script"><link rel="prefetch" href="/assets/index.html-cf4aeb41.js" as="script"><link rel="prefetch" href="/assets/index.html-43045d2a.js" as="script"><link rel="prefetch" href="/assets/index.html-ca943502.js" as="script"><link rel="prefetch" href="/assets/index.html-69aa5bb5.js" as="script"><link rel="prefetch" href="/assets/index.html-606cc55b.js" as="script"><link rel="prefetch" href="/assets/index.html-338af8a1.js" as="script"><link rel="prefetch" href="/assets/åˆ†å¸ƒå¼äº‹åŠ¡ç»„ä»¶Seata.html-d4af4d18.js" as="script"><link rel="prefetch" href="/assets/index.html-259fa2ec.js" as="script"><link rel="prefetch" href="/assets/index.html-6c113e89.js" as="script"><link rel="prefetch" href="/assets/index.html-d6d41c6d.js" as="script"><link rel="prefetch" href="/assets/index.html-23244f48.js" as="script"><link rel="prefetch" href="/assets/index.html-463942ed.js" as="script"><link rel="prefetch" href="/assets/index.html-336a7153.js" as="script"><link rel="prefetch" href="/assets/index.html-cf2d7eef.js" as="script"><link rel="prefetch" href="/assets/index.html-f68d4ad9.js" as="script"><link rel="prefetch" href="/assets/index.html-973d40e6.js" as="script"><link rel="prefetch" href="/assets/02.RocketMQå¼€å‘æ¨¡å‹ä¸ç”Ÿäº§ç¯å¢ƒé—®é¢˜å‰–æ.html-6a62419d.js" as="script"><link rel="prefetch" href="/assets/404.html-f4f9fdbe.js" as="script"><link rel="prefetch" href="/assets/index.html-ccedd87a.js" as="script"><link rel="prefetch" href="/assets/index.html-6b635626.js" as="script"><link rel="prefetch" href="/assets/index.html-f3c1ea90.js" as="script"><link rel="prefetch" href="/assets/index.html-39a19522.js" as="script"><link rel="prefetch" href="/assets/index.html-4e6ecfce.js" as="script"><link rel="prefetch" href="/assets/index.html-c37db087.js" as="script"><link rel="prefetch" href="/assets/index.html-7f2f880b.js" as="script"><link rel="prefetch" href="/assets/index.html-f8546af5.js" as="script"><link rel="prefetch" href="/assets/index.html-36e6cb8c.js" as="script"><link rel="prefetch" href="/assets/index.html-27371869.js" as="script"><link rel="prefetch" href="/assets/index.html-4c15c6fc.js" as="script"><link rel="prefetch" href="/assets/index.html-116aca17.js" as="script"><link rel="prefetch" href="/assets/index.html-2a643c60.js" as="script"><link rel="prefetch" href="/assets/index.html-21236a9b.js" as="script"><link rel="prefetch" href="/assets/index.html-b238d9f4.js" as="script"><link rel="prefetch" href="/assets/index.html-46e55ee3.js" as="script"><link rel="prefetch" href="/assets/index.html-6d53c5d1.js" as="script"><link rel="prefetch" href="/assets/index.html-778d883e.js" as="script"><link rel="prefetch" href="/assets/index.html-d798a209.js" as="script"><link rel="prefetch" href="/assets/index.html-ab8b6fb7.js" as="script"><link rel="prefetch" href="/assets/index.html-200c9b62.js" as="script"><link rel="prefetch" href="/assets/index.html-9fa57983.js" as="script"><link rel="prefetch" href="/assets/index.html-30ef2e2b.js" as="script"><link rel="prefetch" href="/assets/index.html-2a6dfb95.js" as="script"><link rel="prefetch" href="/assets/index.html-3fd779a7.js" as="script"><link rel="prefetch" href="/assets/index.html-0118c6d9.js" as="script"><link rel="prefetch" href="/assets/index.html-942ff972.js" as="script"><link rel="prefetch" href="/assets/index.html-41b511cf.js" as="script"><link rel="prefetch" href="/assets/index.html-2be3f4a2.js" as="script"><link rel="prefetch" href="/assets/index.html-4b04c8af.js" as="script"><link rel="prefetch" href="/assets/index.html-940c35a3.js" as="script"><link rel="prefetch" href="/assets/index.html-f3f33451.js" as="script"><link rel="prefetch" href="/assets/index.html-1a8f23e9.js" as="script"><link rel="prefetch" href="/assets/index.html-c93e5cd2.js" as="script"><link rel="prefetch" href="/assets/index.html-6508b456.js" as="script"><link rel="prefetch" href="/assets/index.html-ed0506a1.js" as="script"><link rel="prefetch" href="/assets/index.html-31f68f17.js" as="script"><link rel="prefetch" href="/assets/index.html-d92890df.js" as="script"><link rel="prefetch" href="/assets/index.html-b2b41008.js" as="script"><link rel="prefetch" href="/assets/index.html-ac4c44c1.js" as="script"><link rel="prefetch" href="/assets/index.html-0ef231d8.js" as="script"><link rel="prefetch" href="/assets/index.html-bab80dce.js" as="script"><link rel="prefetch" href="/assets/index.html-d9a5fb97.js" as="script"><link rel="prefetch" href="/assets/index.html-8d390098.js" as="script"><link rel="prefetch" href="/assets/index.html-17f4d67e.js" as="script"><link rel="prefetch" href="/assets/04-Springä¹‹Beanç”Ÿå‘½å‘¨æœŸæºç è§£æä¸Š.html-761328ea.js" as="script"><link rel="prefetch" href="/assets/index.html-e524b9d3.js" as="script"><link rel="prefetch" href="/assets/index.html-6c6e9139.js" as="script"><link rel="prefetch" href="/assets/index.html-60c3031e.js" as="script"><link rel="prefetch" href="/assets/index.html-c2e013fa.js" as="script"><link rel="prefetch" href="/assets/index.html-1c11e766.js" as="script"><link rel="prefetch" href="/assets/index.html-d7321efe.js" as="script"><link rel="prefetch" href="/assets/index.html-5977f8c1.js" as="script"><link rel="prefetch" href="/assets/index.html-1b4da397.js" as="script"><link rel="prefetch" href="/assets/index.html-8e89cd00.js" as="script"><link rel="prefetch" href="/assets/index.html-02d6c807.js" as="script"><link rel="prefetch" href="/assets/index.html-46fae025.js" as="script"><link rel="prefetch" href="/assets/index.html-69cd3c06.js" as="script"><link rel="prefetch" href="/assets/index.html-db3fe939.js" as="script"><link rel="prefetch" href="/assets/index.html-3d984116.js" as="script"><link rel="prefetch" href="/assets/index.html-997bb951.js" as="script"><link rel="prefetch" href="/assets/index.html-68bb7856.js" as="script"><link rel="prefetch" href="/assets/index.html-a700f4f8.js" as="script"><link rel="prefetch" href="/assets/index.html-d18b242d.js" as="script"><link rel="prefetch" href="/assets/index.html-b4f348dd.js" as="script"><link rel="prefetch" href="/assets/index.html-be6c2183.js" as="script"><link rel="prefetch" href="/assets/index.html-a2cee25a.js" as="script"><link rel="prefetch" href="/assets/index.html-730e32b9.js" as="script"><link rel="prefetch" href="/assets/index.html-2997bb3d.js" as="script"><link rel="prefetch" href="/assets/index.html-df970cde.js" as="script"><link rel="prefetch" href="/assets/index.html-f3eadbbe.js" as="script"><link rel="prefetch" href="/assets/100.é«˜å¹¶å‘ç¼“å­˜å®æˆ˜.html-fc3255db.js" as="script"><link rel="prefetch" href="/assets/index.html-bf12af7e.js" as="script"><link rel="prefetch" href="/assets/30.å¾®æœåŠ¡æ¶æ„æ‹†åˆ†å®æˆ˜.html-73b02be7.js" as="script"><link rel="prefetch" href="/assets/index.html-ef6931ff.js" as="script"><link rel="prefetch" href="/assets/50.å¾®æœåŠ¡ç½‘å…³æ•´åˆOAuth2.0æˆæƒä¸­å¿ƒ.html-24d3145c.js" as="script"><link rel="prefetch" href="/assets/index.html-f60086f0.js" as="script"><link rel="prefetch" href="/assets/index.html-9100e44f.js" as="script"><link rel="prefetch" href="/assets/index.html-0381a938.js" as="script"><link rel="prefetch" href="/assets/index.html-097d63c8.js" as="script"><link rel="prefetch" href="/assets/index.html-22bef521.js" as="script"><link rel="prefetch" href="/assets/index.html-83304cce.js" as="script"><link rel="prefetch" href="/assets/index.html-aec4357f.js" as="script"><link rel="prefetch" href="/assets/index.html-b42efc62.js" as="script"><link rel="prefetch" href="/assets/index.html-73832354.js" as="script"><link rel="prefetch" href="/assets/index.html-48221998.js" as="script"><link rel="prefetch" href="/assets/index.html-37ceb737.js" as="script"><link rel="prefetch" href="/assets/index.html-07c606ad.js" as="script"><link rel="prefetch" href="/assets/index.html-b4e14ecb.js" as="script"><link rel="prefetch" href="/assets/06.MySQLäº‹åŠ¡åŸç†ä¸ä¼˜åŒ–æœ€ä½³å®è·µ.html-d97565a5.js" as="script"><link rel="prefetch" href="/assets/index.html-c43a50df.js" as="script"><link rel="prefetch" href="/assets/index.html-8cb8123b.js" as="script"><link rel="prefetch" href="/assets/index.html-f21cdad8.js" as="script"><link rel="prefetch" href="/assets/index.html-8d774be6.js" as="script"><link rel="prefetch" href="/assets/index.html-0ce5820c.js" as="script"><link rel="prefetch" href="/assets/index.html-80240652.js" as="script"><link rel="prefetch" href="/assets/index.html-306ced06.js" as="script"><link rel="prefetch" href="/assets/index.html-94c88d8a.js" as="script"><link rel="prefetch" href="/assets/20.ShardingJDBCæºç ä¸å†…æ ¸è§£æ.html-ffc9db2f.js" as="script"><link rel="prefetch" href="/assets/index.html-1b1893c3.js" as="script"><link rel="prefetch" href="/assets/index.html-62f81ce5.js" as="script"><link rel="prefetch" href="/assets/index.html-fb202bc3.js" as="script"><link rel="prefetch" href="/assets/index.html-b149f2ea.js" as="script"><link rel="prefetch" href="/assets/index.html-10e7347f.js" as="script"><link rel="prefetch" href="/assets/index.html-fda95f20.js" as="script"><link rel="prefetch" href="/assets/index.html-67b8181d.js" as="script"><link rel="prefetch" href="/assets/index.html-b82ac6d5.js" as="script"><link rel="prefetch" href="/assets/index.html-18cf8f7d.js" as="script"><link rel="prefetch" href="/assets/index.html-e42215a4.js" as="script"><link rel="prefetch" href="/assets/index.html-4bceed98.js" as="script"><link rel="prefetch" href="/assets/index.html-d20a83b0.js" as="script"><link rel="prefetch" href="/assets/index.html-8a5223dd.js" as="script"><link rel="prefetch" href="/assets/index.html-5e0093bb.js" as="script"><link rel="prefetch" href="/assets/index.html-f320d1f5.js" as="script"><link rel="prefetch" href="/assets/index.html-cad64787.js" as="script"><link rel="prefetch" href="/assets/index.html-48c59174.js" as="script"><link rel="prefetch" href="/assets/index.html-7bb25030.js" as="script"><link rel="prefetch" href="/assets/index.html-893823d4.js" as="script"><link rel="prefetch" href="/assets/index.html-d41fc55d.js" as="script"><link rel="prefetch" href="/assets/index.html-7fa8c257.js" as="script"><link rel="prefetch" href="/assets/index.html-ce518419.js" as="script"><link rel="prefetch" href="/assets/index.html-de7cfa2f.js" as="script"><link rel="prefetch" href="/assets/index.html-a5ecc648.js" as="script"><link rel="prefetch" href="/assets/index.html-e04e7eb7.js" as="script"><link rel="prefetch" href="/assets/index.html-50c40125.js" as="script"><link rel="prefetch" href="/assets/index.html-f7ae0721.js" as="script"><link rel="prefetch" href="/assets/index.html-a7a669ae.js" as="script"><link rel="prefetch" href="/assets/index.html-b9393f2c.js" as="script"><link rel="prefetch" href="/assets/index.html-921f67f8.js" as="script"><link rel="prefetch" href="/assets/index.html-62b0250c.js" as="script"><link rel="prefetch" href="/assets/index.html-37a1d0fb.js" as="script"><link rel="prefetch" href="/assets/index.html-d5fb0f14.js" as="script"><link rel="prefetch" href="/assets/index.html-58871ffb.js" as="script"><link rel="prefetch" href="/assets/index.html-20f24699.js" as="script"><link rel="prefetch" href="/assets/index.html-ddecb9bd.js" as="script"><link rel="prefetch" href="/assets/index.html-7d43b4c2.js" as="script"><link rel="prefetch" href="/assets/index.html-6e42f3f3.js" as="script"><link rel="prefetch" href="/assets/index.html-c064a334.js" as="script"><link rel="prefetch" href="/assets/index.html-ef359b17.js" as="script"><link rel="prefetch" href="/assets/index.html-e924e41b.js" as="script"><link rel="prefetch" href="/assets/index.html-3d7283b0.js" as="script"><link rel="prefetch" href="/assets/index.html-a06ee49a.js" as="script"><link rel="prefetch" href="/assets/index.html-d47203ec.js" as="script"><link rel="prefetch" href="/assets/index.html-f3c65495.js" as="script"><link rel="prefetch" href="/assets/index.html-368a0dce.js" as="script"><link rel="prefetch" href="/assets/index.html-34d16bb7.js" as="script"><link rel="prefetch" href="/assets/index.html-f9bef08a.js" as="script"><link rel="prefetch" href="/assets/index.html-0fa630ac.js" as="script"><link rel="prefetch" href="/assets/index.html-7f7cdea0.js" as="script"><link rel="prefetch" href="/assets/åˆ†å¸ƒå¼äº‹åŠ¡ç»„ä»¶Seata.html-f4ac9e4a.js" as="script"><link rel="prefetch" href="/assets/index.html-9e607adc.js" as="script"><link rel="prefetch" href="/assets/index.html-9af77916.js" as="script"><link rel="prefetch" href="/assets/index.html-a24689f2.js" as="script"><link rel="prefetch" href="/assets/index.html-66970517.js" as="script"><link rel="prefetch" href="/assets/index.html-621947c5.js" as="script"><link rel="prefetch" href="/assets/index.html-cdf078ab.js" as="script"><link rel="prefetch" href="/assets/index.html-edcd7965.js" as="script"><link rel="prefetch" href="/assets/index.html-52dc5986.js" as="script"><link rel="prefetch" href="/assets/index.html-d53b3ef9.js" as="script"><link rel="prefetch" href="/assets/02.RocketMQå¼€å‘æ¨¡å‹ä¸ç”Ÿäº§ç¯å¢ƒé—®é¢˜å‰–æ.html-6772ff48.js" as="script"><link rel="prefetch" href="/assets/404.html-461ff74c.js" as="script"><link rel="prefetch" href="/assets/index.html-b2824715.js" as="script"><link rel="prefetch" href="/assets/index.html-bf630227.js" as="script"><link rel="prefetch" href="/assets/index.html-2ccc13d8.js" as="script"><link rel="prefetch" href="/assets/index.html-025d7978.js" as="script"><link rel="prefetch" href="/assets/index.html-e7281517.js" as="script"><link rel="prefetch" href="/assets/index.html-dd038321.js" as="script"><link rel="prefetch" href="/assets/index.html-7ff3e11e.js" as="script"><link rel="prefetch" href="/assets/index.html-1e0f8ca5.js" as="script"><link rel="prefetch" href="/assets/index.html-91a90aa5.js" as="script"><link rel="prefetch" href="/assets/index.html-b41716bc.js" as="script"><link rel="prefetch" href="/assets/index.html-7fbe4bcc.js" as="script"><link rel="prefetch" href="/assets/index.html-70c76245.js" as="script"><link rel="prefetch" href="/assets/index.html-d91f6c12.js" as="script"><link rel="prefetch" href="/assets/index.html-2e16b465.js" as="script"><link rel="prefetch" href="/assets/index.html-a78a20f3.js" as="script"><link rel="prefetch" href="/assets/index.html-ff2c131a.js" as="script"><link rel="prefetch" href="/assets/index.html-144aa0d9.js" as="script"><link rel="prefetch" href="/assets/index.html-c0eb79ef.js" as="script"><link rel="prefetch" href="/assets/index.html-8d28343e.js" as="script"><link rel="prefetch" href="/assets/index.html-21c61708.js" as="script"><link rel="prefetch" href="/assets/index.html-0f05122a.js" as="script"><link rel="prefetch" href="/assets/index.html-f0710051.js" as="script"><link rel="prefetch" href="/assets/index.html-b5df8347.js" as="script"><link rel="prefetch" href="/assets/index.html-c1db7764.js" as="script"><link rel="prefetch" href="/assets/index.html-9f78e9be.js" as="script"><link rel="prefetch" href="/assets/index.html-5aa72145.js" as="script"><link rel="prefetch" href="/assets/index.html-c12ff88a.js" as="script"><link rel="prefetch" href="/assets/index.html-4439ca13.js" as="script"><link rel="prefetch" href="/assets/index.html-394c9698.js" as="script"><link rel="prefetch" href="/assets/index.html-72f3752a.js" as="script"><link rel="prefetch" href="/assets/index.html-f13b6a87.js" as="script"><link rel="prefetch" href="/assets/index.html-6434280b.js" as="script"><link rel="prefetch" href="/assets/index.html-0572e6e3.js" as="script"><link rel="prefetch" href="/assets/index.html-b8720651.js" as="script"><link rel="prefetch" href="/assets/index.html-80d2c9b0.js" as="script"><link rel="prefetch" href="/assets/index.html-a1cdc00b.js" as="script"><link rel="prefetch" href="/assets/index.html-922369ed.js" as="script"><link rel="prefetch" href="/assets/index.html-e278ab2b.js" as="script"><link rel="prefetch" href="/assets/index.html-c8a31c38.js" as="script"><link rel="prefetch" href="/assets/index.html-545bd13b.js" as="script"><link rel="prefetch" href="/assets/index.html-9d55779e.js" as="script"><link rel="prefetch" href="/assets/giscus-765fdce2.js" as="script"><link rel="prefetch" href="/assets/auto-bce451fc.js" as="script"><link rel="prefetch" href="/assets/index-a49a0f47.js" as="script"><link rel="prefetch" href="/assets/flowchart-d65a1d8e.js" as="script"><link rel="prefetch" href="/assets/mermaid.core-8ccca130.js" as="script"><link rel="prefetch" href="/assets/highlight.esm-75b11b9d.js" as="script"><link rel="prefetch" href="/assets/markdown.esm-0191f9da.js" as="script"><link rel="prefetch" href="/assets/math.esm-70a288c8.js" as="script"><link rel="prefetch" href="/assets/notes.esm-a106bb2c.js" as="script"><link rel="prefetch" href="/assets/reveal.esm-ec5549c1.js" as="script"><link rel="prefetch" href="/assets/search.esm-7e6792e2.js" as="script"><link rel="prefetch" href="/assets/zoom.esm-b83b91d0.js" as="script"><link rel="prefetch" href="/assets/VuePlayground-0f5688fe.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-5794cde2.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container no-sidebar has-toc"><!--[--><header class="navbar" id="navbar"><div class="navbar-start"><button type="button" class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a href="/" class="brand"><img class="logo" src="/logo.svg" alt="å­¦ä¹ ç¬”è®°"><!----><span class="site-name hide-in-pad">å­¦ä¹ ç¬”è®°</span></a><!--]--><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><!--[--><!----><!--]--><!--[--><!----><!--]--></div><div class="navbar-end"><!--[--><!----><!--]--><!--[--><!----><!----><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><!--[--><!----><!--]--><button type="button" class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside class="sidebar" id="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Redisä¸»ä»ä¸å“¨å…µæ¶æ„</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">æ±Ÿ</span></span><span property="author" content="æ±Ÿ"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2022-12-03T22:09:58.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 14 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT14M"></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item category3 clickable" role="navigation">Redis</span><!--]--><meta property="articleSection" content="Redis"></span><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pages/6af36a/#redisä¸»ä»æ¶æ„" class="router-link-active router-link-exact-active toc-link level2">Redisä¸»ä»æ¶æ„</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pages/6af36a/#rediså“¨å…µé«˜å¯ç”¨æ¶æ„" class="router-link-active router-link-exact-active toc-link level2">Rediså“¨å…µé«˜å¯ç”¨æ¶æ„</a></li><!----><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h2 id="redisä¸»ä»æ¶æ„" tabindex="-1"><a class="header-anchor" href="#redisä¸»ä»æ¶æ„" aria-hidden="true">#</a> Redisä¸»ä»æ¶æ„</h2><p>â€‹ <img src="https://img.jssjqd.cn/20221014052831.png" alt="" loading="lazy"></p><p><strong>ä¸»ä»å¤åˆ¶çš„ä½œç”¨</strong>ä¸»è¦åŒ…æ‹¬ï¼š</p><ul><li><strong>æ•°æ®å†—ä½™</strong>ï¼šä¸»ä»å¤åˆ¶å®ç°äº†æ•°æ®çš„çƒ­å¤‡ä»½ï¼Œæ˜¯æŒä¹…åŒ–ä¹‹å¤–çš„ä¸€ç§æ•°æ®å†—ä½™æ–¹å¼ã€‚</li><li><strong>æ•…éšœæ¢å¤</strong>ï¼šå½“ä¸»èŠ‚ç‚¹å‡ºç°é—®é¢˜æ—¶ï¼Œå¯ä»¥ç”±ä»èŠ‚ç‚¹æä¾›æœåŠ¡ï¼Œå®ç°å¿«é€Ÿçš„æ•…éšœæ¢å¤ï¼›å®é™…ä¸Šæ˜¯ä¸€ç§æœåŠ¡çš„å†—ä½™ã€‚</li><li><strong>è´Ÿè½½å‡è¡¡</strong>ï¼šåœ¨ä¸»ä»å¤åˆ¶çš„åŸºç¡€ä¸Šï¼Œé…åˆè¯»å†™åˆ†ç¦»ï¼Œå¯ä»¥ç”±ä¸»èŠ‚ç‚¹æä¾›å†™æœåŠ¡ï¼Œç”±ä»èŠ‚ç‚¹æä¾›è¯»æœåŠ¡ï¼ˆå³å†™ Redis æ•°æ®æ—¶åº”ç”¨è¿æ¥ä¸»èŠ‚ç‚¹ï¼Œè¯» Redis æ•°æ®æ—¶åº”ç”¨è¿æ¥ä»èŠ‚ç‚¹ï¼‰ï¼Œåˆ†æ‹…æœåŠ¡å™¨è´Ÿè½½ï¼›å°¤å…¶æ˜¯åœ¨å†™å°‘è¯»å¤šçš„åœºæ™¯ä¸‹ï¼Œé€šè¿‡å¤šä¸ªä»èŠ‚ç‚¹åˆ†æ‹…è¯»è´Ÿè½½ï¼Œå¯ä»¥å¤§å¤§æé«˜ Redis æœåŠ¡å™¨çš„å¹¶å‘é‡ã€‚</li><li><strong>é«˜å¯ç”¨åŸºçŸ³</strong>ï¼šé™¤äº†ä¸Šè¿°ä½œç”¨ä»¥å¤–ï¼Œä¸»ä»å¤åˆ¶è¿˜æ˜¯å“¨å…µå’Œé›†ç¾¤èƒ½å¤Ÿå®æ–½çš„åŸºç¡€ï¼Œå› æ­¤è¯´ä¸»ä»å¤åˆ¶æ˜¯ Redis é«˜å¯ç”¨çš„åŸºç¡€ã€‚</li></ul><p><strong>redisä¸»ä»æ¶æ„æ­å»ºï¼Œé…ç½®ä»èŠ‚ç‚¹æ­¥éª¤ï¼š</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>1ã€å¤åˆ¶ä¸€ä»½redis.confæ–‡ä»¶

2ã€å°†ç›¸å…³é…ç½®ä¿®æ”¹ä¸ºå¦‚ä¸‹å€¼ï¼š
port 6380
pidfile /var/run/redis_6380.pid  # æŠŠpidè¿›ç¨‹å·å†™å…¥pidfileé…ç½®çš„æ–‡ä»¶
logfile &quot;6380.log&quot;
dir /usr/local/redis-5.0.3/data/6380  # æŒ‡å®šæ•°æ®å­˜æ”¾ç›®å½•
# éœ€è¦æ³¨é‡Šæ‰bind
# bind 127.0.0.1ï¼ˆbindç»‘å®šçš„æ˜¯è‡ªå·±æœºå™¨ç½‘å¡çš„ipï¼Œå¦‚æœæœ‰å¤šå—ç½‘å¡å¯ä»¥é…å¤šä¸ªipï¼Œä»£è¡¨å…è®¸å®¢æˆ·ç«¯é€šè¿‡æœºå™¨çš„å“ªäº›ç½‘å¡ipå»è®¿é—®ï¼Œå†…ç½‘ä¸€èˆ¬å¯ä»¥ä¸é…ç½®bindï¼Œæ³¨é‡Šæ‰å³å¯ï¼‰

3ã€é…ç½®ä¸»ä»å¤åˆ¶
replicaof 192.168.0.60 6379   # ä»æœ¬æœº6379çš„rediså®ä¾‹å¤åˆ¶æ•°æ®ï¼ŒRedis 5.0ä¹‹å‰ä½¿ç”¨slaveof
replica-read-only yes  # é…ç½®ä»èŠ‚ç‚¹åªè¯»

4ã€å¯åŠ¨ä»èŠ‚ç‚¹
redis-server redis.conf

5ã€è¿æ¥ä»èŠ‚ç‚¹
redis-cli -p 6380

6ã€æµ‹è¯•åœ¨6379å®ä¾‹ä¸Šå†™æ•°æ®ï¼Œ6380å®ä¾‹æ˜¯å¦èƒ½åŠæ—¶åŒæ­¥æ–°ä¿®æ”¹æ•°æ®

7ã€å¯ä»¥è‡ªå·±å†é…ç½®ä¸€ä¸ª6381çš„ä»èŠ‚ç‚¹
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Redisä¸»ä»å·¥ä½œåŸç†</strong></p><p>å¦‚æœä½ ä¸ºmasteré…ç½®äº†ä¸€ä¸ªslaveï¼Œä¸ç®¡è¿™ä¸ªslaveæ˜¯å¦æ˜¯ç¬¬ä¸€æ¬¡è¿æ¥ä¸ŠMasterï¼Œå®ƒéƒ½ä¼šå‘é€ä¸€ä¸ª<strong>PSYNC</strong>å‘½ä»¤ç»™masterè¯·æ±‚å¤åˆ¶æ•°æ®ã€‚</p><p>masteræ”¶åˆ°PSYNCå‘½ä»¤åï¼Œä¼šåœ¨åå°è¿›è¡Œæ•°æ®æŒä¹…åŒ–é€šè¿‡bgsaveç”Ÿæˆæœ€æ–°çš„rdbå¿«ç…§æ–‡ä»¶ï¼ŒæŒä¹…åŒ–æœŸé—´ï¼Œmasterä¼šç»§ç»­æ¥æ”¶å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œå®ƒä¼šæŠŠè¿™äº›å¯èƒ½ä¿®æ”¹æ•°æ®é›†çš„è¯·æ±‚ç¼“å­˜åœ¨å†…å­˜ä¸­ã€‚å½“æŒä¹…åŒ–è¿›è¡Œå®Œæ¯•ä»¥åï¼Œmasterä¼šæŠŠè¿™ä»½rdbæ–‡ä»¶æ•°æ®é›†å‘é€ç»™slaveï¼Œslaveä¼šæŠŠæ¥æ”¶åˆ°çš„æ•°æ®è¿›è¡ŒæŒä¹…åŒ–ç”Ÿæˆrdbï¼Œç„¶åå†åŠ è½½åˆ°å†…å­˜ä¸­ã€‚ç„¶åï¼Œmasterå†å°†ä¹‹å‰ç¼“å­˜åœ¨å†…å­˜ä¸­çš„å‘½ä»¤å‘é€ç»™slaveã€‚</p><p>å½“masterä¸slaveä¹‹é—´çš„è¿æ¥ç”±äºæŸäº›åŸå› è€Œæ–­å¼€æ—¶ï¼Œslaveèƒ½å¤Ÿè‡ªåŠ¨é‡è¿Masterï¼Œå¦‚æœmasteræ”¶åˆ°äº†å¤šä¸ªslaveå¹¶å‘è¿æ¥è¯·æ±‚ï¼Œå®ƒåªä¼šè¿›è¡Œä¸€æ¬¡æŒä¹…åŒ–ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªè¿æ¥ä¸€æ¬¡ï¼Œç„¶åå†æŠŠè¿™ä¸€ä»½æŒä¹…åŒ–çš„æ•°æ®å‘é€ç»™å¤šä¸ªå¹¶å‘è¿æ¥çš„slaveã€‚</p><p><strong>ä¸»ä»å¤åˆ¶(å…¨é‡å¤åˆ¶)æµç¨‹å›¾ï¼š</strong></p><figure><img src="https://img.jssjqd.cn/20221014052910.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><strong>æ•°æ®éƒ¨åˆ†å¤åˆ¶</strong></p><p>å½“masterå’Œslaveæ–­å¼€é‡è¿åï¼Œä¸€èˆ¬éƒ½ä¼šå¯¹æ•´ä»½æ•°æ®è¿›è¡Œå¤åˆ¶ã€‚ä½†ä»redis2.8ç‰ˆæœ¬å¼€å§‹ï¼Œredisæ”¹ç”¨å¯ä»¥æ”¯æŒéƒ¨åˆ†æ•°æ®å¤åˆ¶çš„å‘½ä»¤PSYNCå»masteråŒæ­¥æ•°æ®ï¼Œslaveä¸masterèƒ½å¤Ÿåœ¨ç½‘ç»œè¿æ¥æ–­å¼€é‡è¿ååªè¿›è¡Œéƒ¨åˆ†æ•°æ®å¤åˆ¶(<strong>æ–­ç‚¹ç»­ä¼ </strong>)ã€‚</p><p>masterä¼šåœ¨å…¶å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªå¤åˆ¶æ•°æ®ç”¨çš„ç¼“å­˜é˜Ÿåˆ—ï¼Œç¼“å­˜æœ€è¿‘ä¸€æ®µæ—¶é—´çš„æ•°æ®ï¼Œmasterå’Œå®ƒæ‰€æœ‰çš„slaveéƒ½ç»´æŠ¤äº†å¤åˆ¶çš„æ•°æ®ä¸‹æ ‡offsetå’Œmasterçš„è¿›ç¨‹idï¼Œå› æ­¤ï¼Œå½“ç½‘ç»œè¿æ¥æ¢å¤åï¼Œslaveä¼šè¯·æ±‚masterç»§ç»­è¿›è¡Œæœªå®Œæˆçš„å¤åˆ¶ï¼Œä»æ‰€è®°å½•çš„æ•°æ®ä¸‹æ ‡å¼€å§‹ã€‚å¦‚æœmasterè¿›ç¨‹idå˜åŒ–äº†ï¼Œæˆ–è€…ä»èŠ‚ç‚¹æ•°æ®ä¸‹æ ‡offsetå¤ªæ—§ï¼Œå·²ç»ä¸åœ¨masterçš„ç¼“å­˜é˜Ÿåˆ—é‡Œäº†ï¼Œé‚£ä¹ˆå°†ä¼šè¿›è¡Œä¸€æ¬¡å…¨é‡æ•°æ®çš„å¤åˆ¶ã€‚</p><p><strong>ä¸»ä»å¤åˆ¶(éƒ¨åˆ†å¤åˆ¶ï¼Œæ–­ç‚¹ç»­ä¼ )æµç¨‹å›¾ï¼š</strong></p><figure><img src="https://img.jssjqd.cn/20221014052925.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å¦‚æœæœ‰å¾ˆå¤šä»èŠ‚ç‚¹ï¼Œä¸ºäº†ç¼“è§£<strong>ä¸»ä»å¤åˆ¶é£æš´</strong>(å¤šä¸ªä»èŠ‚ç‚¹åŒæ—¶å¤åˆ¶ä¸»èŠ‚ç‚¹å¯¼è‡´ä¸»èŠ‚ç‚¹å‹åŠ›è¿‡å¤§)ï¼Œå¯ä»¥åšå¦‚ä¸‹æ¶æ„ï¼Œè®©éƒ¨åˆ†ä»èŠ‚ç‚¹ä¸ä»èŠ‚ç‚¹(ä¸ä¸»èŠ‚ç‚¹åŒæ­¥)åŒæ­¥æ•°æ®</p><p>â€‹ <img src="https://img.jssjqd.cn/20221014053002.png" alt="" loading="lazy"></p><p><strong>Jedisè¿æ¥ä»£ç ç¤ºä¾‹ï¼š</strong></p><p>1ã€å¼•å…¥ç›¸å…³ä¾èµ–ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>redis.clients<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jedis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.9.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>    
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è®¿é—®ä»£ç ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JedisSingleTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

        <span class="token class-name">JedisPoolConfig</span> jedisPoolConfig <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JedisPoolConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        jedisPoolConfig<span class="token punctuation">.</span><span class="token function">setMaxTotal</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        jedisPoolConfig<span class="token punctuation">.</span><span class="token function">setMaxIdle</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        jedisPoolConfig<span class="token punctuation">.</span><span class="token function">setMinIdle</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// timeoutï¼Œè¿™é‡Œæ—¢æ˜¯è¿æ¥è¶…æ—¶åˆæ˜¯è¯»å†™è¶…æ—¶ï¼Œä»Jedis 2.8å¼€å§‹æœ‰åŒºåˆ†connectionTimeoutå’ŒsoTimeoutçš„æ„é€ å‡½æ•°</span>
        <span class="token class-name">JedisPool</span> jedisPool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JedisPool</span><span class="token punctuation">(</span>jedisPoolConfig<span class="token punctuation">,</span> <span class="token string">&quot;192.168.0.60&quot;</span><span class="token punctuation">,</span> <span class="token number">6379</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Jedis</span> jedis <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">//ä»redisè¿æ¥æ± é‡Œæ‹¿å‡ºä¸€ä¸ªè¿æ¥æ‰§è¡Œå‘½ä»¤</span>
            jedis <span class="token operator">=</span> jedisPool<span class="token punctuation">.</span><span class="token function">getResource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>jedis<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;single&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;zhuge&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>jedis<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;single&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//ç®¡é“ç¤ºä¾‹</span>
            <span class="token comment">//ç®¡é“çš„å‘½ä»¤æ‰§è¡Œæ–¹å¼ï¼šcat redis.txt | redis-cli -h 127.0.0.1 -a password - p 6379 --pipe</span>
            <span class="token comment">/*Pipeline pl = jedis.pipelined();
            for (int i = 0; i &lt; 10; i++) {
                pl.incr(&quot;pipelineKey&quot;);
                pl.set(&quot;zhuge&quot; + i, &quot;zhuge&quot;);
            }
            List&lt;Object&gt; results = pl.syncAndReturnAll();
            System.out.println(results);*/</span>

            <span class="token comment">//luaè„šæœ¬æ¨¡æ‹Ÿä¸€ä¸ªå•†å“å‡åº“å­˜çš„åŸå­æ“ä½œ</span>
            <span class="token comment">//luaè„šæœ¬å‘½ä»¤æ‰§è¡Œæ–¹å¼ï¼šredis-cli --eval /tmp/test.lua , 10</span>
            <span class="token comment">/*jedis.set(&quot;product_count_10016&quot;, &quot;15&quot;);  //åˆå§‹åŒ–å•†å“10016çš„åº“å­˜
            String script = &quot; local count = redis.call(&#39;get&#39;, KEYS[1]) &quot; +
                            &quot; local a = tonumber(count) &quot; +
                            &quot; local b = tonumber(ARGV[1]) &quot; +
                            &quot; if a &gt;= b then &quot; +
                            &quot;   redis.call(&#39;set&#39;, KEYS[1], a-b) &quot; +
                            &quot;   return 1 &quot; +
                            &quot; end &quot; +
                            &quot; return 0 &quot;;
            Object obj = jedis.eval(script, Arrays.asList(&quot;product_count_10016&quot;), Arrays.asList(&quot;10&quot;));
            System.out.println(obj);*/</span>

        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
            <span class="token comment">//æ³¨æ„è¿™é‡Œä¸æ˜¯å…³é—­è¿æ¥ï¼Œåœ¨JedisPoolæ¨¡å¼ä¸‹ï¼ŒJedisä¼šè¢«å½’è¿˜ç»™èµ„æºæ± ã€‚</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>jedis <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
                jedis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>é¡ºå¸¦è®²ä¸‹redisç®¡é“ä¸è°ƒç”¨luaè„šæœ¬ï¼Œä»£ç ç¤ºä¾‹ä¸Šé¢å·²ç»ç»™å‡ºï¼š</strong></p><p><strong>ç®¡é“ï¼ˆPipelineï¼‰</strong></p><p>å®¢æˆ·ç«¯å¯ä»¥ä¸€æ¬¡æ€§å‘é€å¤šä¸ªè¯·æ±‚è€Œä¸ç”¨ç­‰å¾…æœåŠ¡å™¨çš„å“åº”ï¼Œå¾…æ‰€æœ‰å‘½ä»¤éƒ½å‘é€å®Œåå†ä¸€æ¬¡æ€§è¯»å–æœåŠ¡çš„å“åº”ï¼Œè¿™æ ·å¯ä»¥æå¤§çš„é™ä½å¤šæ¡å‘½ä»¤æ‰§è¡Œçš„ç½‘ç»œä¼ è¾“å¼€é”€ï¼Œç®¡é“æ‰§è¡Œå¤šæ¡å‘½ä»¤çš„ç½‘ç»œå¼€é”€å®é™…ä¸Šåªç›¸å½“äºä¸€æ¬¡å‘½ä»¤æ‰§è¡Œçš„ç½‘ç»œå¼€é”€ã€‚éœ€è¦æ³¨æ„åˆ°æ˜¯ç”¨pipelineæ–¹å¼æ‰“åŒ…å‘½ä»¤å‘é€ï¼Œrediså¿…é¡»åœ¨<strong>å¤„ç†å®Œæ‰€æœ‰å‘½ä»¤å‰å…ˆç¼“å­˜èµ·æ‰€æœ‰å‘½ä»¤çš„å¤„ç†ç»“æœ</strong>ã€‚æ‰“åŒ…çš„å‘½ä»¤è¶Šå¤šï¼Œç¼“å­˜æ¶ˆè€—å†…å­˜ä¹Ÿè¶Šå¤šã€‚æ‰€ä»¥å¹¶ä¸æ˜¯æ‰“åŒ…çš„å‘½ä»¤è¶Šå¤šè¶Šå¥½ã€‚</p><p>pipelineä¸­å‘é€çš„æ¯ä¸ªcommandéƒ½ä¼šè¢«serverç«‹å³æ‰§è¡Œï¼Œå¦‚æœæ‰§è¡Œå¤±è´¥ï¼Œå°†ä¼šåœ¨æ­¤åçš„å“åº”ä¸­å¾—åˆ°ä¿¡æ¯ï¼›ä¹Ÿå°±æ˜¯pipelineå¹¶ä¸æ˜¯è¡¨è¾¾â€œæ‰€æœ‰commandéƒ½ä¸€èµ·æˆåŠŸâ€çš„è¯­ä¹‰ï¼Œç®¡é“ä¸­å‰é¢å‘½ä»¤å¤±è´¥ï¼Œåé¢å‘½ä»¤ä¸ä¼šæœ‰å½±å“ï¼Œç»§ç»­æ‰§è¡Œã€‚</p><p>è¯¦ç»†ä»£ç ç¤ºä¾‹è§ä¸Šé¢jedisè¿æ¥ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Pipeline</span> pl <span class="token operator">=</span> jedis<span class="token punctuation">.</span><span class="token function">pipelined</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    pl<span class="token punctuation">.</span><span class="token function">incr</span><span class="token punctuation">(</span><span class="token string">&quot;pipelineKey&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    pl<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;zhuge&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">,</span> <span class="token string">&quot;zhuge&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//æ¨¡æ‹Ÿç®¡é“æŠ¥é”™</span>
    <span class="token comment">// pl.setbit(&quot;zhuge&quot;, -1, true);</span>
<span class="token punctuation">}</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> results <span class="token operator">=</span> pl<span class="token punctuation">.</span><span class="token function">syncAndReturnAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>results<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Redis Luaè„šæœ¬(æ”¾åœ¨åé¢Redisé«˜å¹¶å‘åˆ†å¸ƒå¼é”å®æˆ˜è¯¾é‡Œè¯¦ç»†è®²)</strong></p><p>Redisåœ¨2.6æ¨å‡ºäº†è„šæœ¬åŠŸèƒ½ï¼Œå…è®¸å¼€å‘è€…ä½¿ç”¨Luaè¯­è¨€ç¼–å†™è„šæœ¬ä¼ åˆ°Redisä¸­æ‰§è¡Œã€‚ä½¿ç”¨è„šæœ¬çš„å¥½å¤„å¦‚ä¸‹:</p><p>1ã€<strong>å‡å°‘ç½‘ç»œå¼€é”€</strong>ï¼šæœ¬æ¥5æ¬¡ç½‘ç»œè¯·æ±‚çš„æ“ä½œï¼Œå¯ä»¥ç”¨ä¸€ä¸ªè¯·æ±‚å®Œæˆï¼ŒåŸå…ˆ5æ¬¡è¯·æ±‚çš„é€»è¾‘æ”¾åœ¨redisæœåŠ¡å™¨ä¸Šå®Œæˆã€‚ä½¿ç”¨è„šæœ¬ï¼Œå‡å°‘äº†ç½‘ç»œå¾€è¿”æ—¶å»¶ã€‚<strong>è¿™ç‚¹è·Ÿç®¡é“ç±»ä¼¼</strong>ã€‚</p><p>2ã€<strong>åŸå­æ“ä½œ</strong>ï¼šRedisä¼šå°†æ•´ä¸ªè„šæœ¬ä½œä¸ºä¸€ä¸ªæ•´ä½“æ‰§è¡Œï¼Œä¸­é—´ä¸ä¼šè¢«å…¶ä»–å‘½ä»¤æ’å…¥ã€‚<strong>ç®¡é“ä¸æ˜¯åŸå­çš„ï¼Œä¸è¿‡redisçš„æ‰¹é‡æ“ä½œå‘½ä»¤(ç±»ä¼¼mset)æ˜¯åŸå­çš„ã€‚</strong></p><p>3ã€<strong>æ›¿ä»£redisçš„äº‹åŠ¡åŠŸèƒ½</strong>ï¼šredisè‡ªå¸¦çš„äº‹åŠ¡åŠŸèƒ½å¾ˆé¸¡è‚‹ï¼Œè€Œredisçš„luaè„šæœ¬å‡ ä¹å®ç°äº†å¸¸è§„çš„äº‹åŠ¡åŠŸèƒ½ï¼Œå®˜æ–¹æ¨èå¦‚æœè¦ä½¿ç”¨redisçš„äº‹åŠ¡åŠŸèƒ½å¯ä»¥ç”¨redis luaæ›¿ä»£ã€‚</p><p><strong>å®˜ç½‘æ–‡æ¡£ä¸Šæœ‰è¿™æ ·ä¸€æ®µè¯ï¼š</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>A Redis script is transactional by definition, so everything you can do with a Redis transaction, you can also do with a script, 
and usually the script will be both simpler and faster.    
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»Redis2.6.0ç‰ˆæœ¬å¼€å§‹ï¼Œé€šè¿‡å†…ç½®çš„Luaè§£é‡Šå™¨ï¼Œå¯ä»¥ä½¿ç”¨EVALå‘½ä»¤å¯¹Luaè„šæœ¬è¿›è¡Œæ±‚å€¼ã€‚EVALå‘½ä»¤çš„æ ¼å¼å¦‚ä¸‹ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>EVAL script numkeys key [key ...] arg [arg ...]ã€€              
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>scriptå‚æ•°æ˜¯ä¸€æ®µLuaè„šæœ¬ç¨‹åºï¼Œå®ƒä¼šè¢«è¿è¡Œåœ¨RedisæœåŠ¡å™¨ä¸Šä¸‹æ–‡ä¸­ï¼Œè¿™æ®µè„šæœ¬<strong>ä¸å¿…(ä¹Ÿä¸åº”è¯¥)å®šä¹‰ä¸ºä¸€ä¸ªLuaå‡½æ•°</strong>ã€‚numkeyså‚æ•°ç”¨äºæŒ‡å®šé”®åå‚æ•°çš„ä¸ªæ•°ã€‚é”®åå‚æ•° key [key ...] ä»EVALçš„ç¬¬ä¸‰ä¸ªå‚æ•°å¼€å§‹ç®—èµ·ï¼Œè¡¨ç¤ºåœ¨è„šæœ¬ä¸­æ‰€ç”¨åˆ°çš„é‚£äº›Redisé”®(key)ï¼Œè¿™äº›é”®åå‚æ•°å¯ä»¥åœ¨ Luaä¸­é€šè¿‡å…¨å±€å˜é‡KEYSæ•°ç»„ï¼Œç”¨1ä¸ºåŸºå€çš„å½¢å¼è®¿é—®( KEYS[1] ï¼Œ KEYS[2] ï¼Œä»¥æ­¤ç±»æ¨)ã€‚</p><p>åœ¨å‘½ä»¤çš„æœ€åï¼Œé‚£äº›ä¸æ˜¯é”®åå‚æ•°çš„é™„åŠ å‚æ•° arg [arg ...] ï¼Œå¯ä»¥åœ¨Luaä¸­é€šè¿‡å…¨å±€å˜é‡<strong>ARGV</strong>æ•°ç»„è®¿é—®ï¼Œè®¿é—®çš„å½¢å¼å’ŒKEYSå˜é‡ç±»ä¼¼( ARGV[1] ã€ ARGV[2] ï¼Œè¯¸å¦‚æ­¤ç±»)ã€‚ä¾‹å¦‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>127.0.0.1:6379&gt; eval &quot;return {KEYS[1],KEYS[2],ARGV[1],ARGV[2]}&quot; 2 key1 key2 first second
1) &quot;key1&quot;
2) &quot;key2&quot;
3) &quot;first&quot;
4) &quot;second&quot;  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶ä¸­ &quot;return {KEYS[1],KEYS[2],ARGV[1],ARGV[2]}&quot; æ˜¯è¢«æ±‚å€¼çš„Luaè„šæœ¬ï¼Œæ•°å­—2æŒ‡å®šäº†é”®åå‚æ•°çš„æ•°é‡ï¼Œ key1å’Œkey2æ˜¯é”®åå‚æ•°ï¼Œåˆ†åˆ«ä½¿ç”¨ KEYS[1] å’Œ KEYS[2] è®¿é—®ï¼Œè€Œæœ€åçš„ first å’Œ second åˆ™æ˜¯é™„åŠ å‚æ•°ï¼Œå¯ä»¥é€šè¿‡ ARGV[1] å’Œ ARGV[2] è®¿é—®å®ƒä»¬ã€‚</p><p>åœ¨ Lua è„šæœ¬ä¸­ï¼Œå¯ä»¥ä½¿ç”¨**redis.call()**å‡½æ•°æ¥æ‰§è¡ŒRediså‘½ä»¤</p><p>Jedisè°ƒç”¨ç¤ºä¾‹è¯¦è§ä¸Šé¢jedisè¿æ¥ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>jedis<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;product_stock_10016&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;15&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//åˆå§‹åŒ–å•†å“10016çš„åº“å­˜</span>
<span class="token class-name">String</span> script <span class="token operator">=</span> <span class="token string">&quot; local count = redis.call(&#39;get&#39;, KEYS[1]) &quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot; local a = tonumber(count) &quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot; local b = tonumber(ARGV[1]) &quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot; if a &gt;= b then &quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;   redis.call(&#39;set&#39;, KEYS[1], a-b) &quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;   return 1 &quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot; end &quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot; return 0 &quot;</span><span class="token punctuation">;</span>
<span class="token class-name">Object</span> obj <span class="token operator">=</span> jedis<span class="token punctuation">.</span><span class="token function">eval</span><span class="token punctuation">(</span>script<span class="token punctuation">,</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;product_stock_10016&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;10&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ³¨æ„ï¼Œä¸è¦åœ¨Luaè„šæœ¬ä¸­å‡ºç°æ­»å¾ªç¯å’Œè€—æ—¶çš„è¿ç®—ï¼Œå¦åˆ™redisä¼šé˜»å¡ï¼Œå°†ä¸æ¥å—å…¶ä»–çš„å‘½ä»¤ï¼Œ æ‰€ä»¥ä½¿ç”¨æ—¶è¦æ³¨æ„ä¸èƒ½å‡ºç°æ­»å¾ªç¯ã€è€—æ—¶çš„è¿ç®—ã€‚redisæ˜¯å•è¿›ç¨‹ã€å•çº¿ç¨‹æ‰§è¡Œè„šæœ¬ã€‚ç®¡é“ä¸ä¼šé˜»å¡redisã€‚</strong></p><h2 id="rediså“¨å…µé«˜å¯ç”¨æ¶æ„" tabindex="-1"><a class="header-anchor" href="#rediså“¨å…µé«˜å¯ç”¨æ¶æ„" aria-hidden="true">#</a> Rediså“¨å…µé«˜å¯ç”¨æ¶æ„</h2><p>â€‹ <img src="https://img.jssjqd.cn/20221014053312.png" alt="" loading="lazy"></p><p>sentinelå“¨å…µæ˜¯ç‰¹æ®Šçš„redisæœåŠ¡ï¼Œä¸æä¾›è¯»å†™æœåŠ¡ï¼Œä¸»è¦ç”¨æ¥ç›‘æ§rediså®ä¾‹èŠ‚ç‚¹ã€‚</p><p>å“¨å…µæ¶æ„ä¸‹clientç«¯ç¬¬ä¸€æ¬¡ä»å“¨å…µæ‰¾å‡ºredisçš„ä¸»èŠ‚ç‚¹ï¼Œåç»­å°±ç›´æ¥è®¿é—®redisçš„ä¸»èŠ‚ç‚¹ï¼Œä¸ä¼šæ¯æ¬¡éƒ½é€šè¿‡sentinelä»£ç†è®¿é—®redisçš„ä¸»èŠ‚ç‚¹ï¼Œå½“redisçš„ä¸»èŠ‚ç‚¹å‘ç”Ÿå˜åŒ–ï¼Œå“¨å…µä¼šç¬¬ä¸€æ—¶é—´æ„ŸçŸ¥åˆ°ï¼Œå¹¶ä¸”å°†æ–°çš„redisä¸»èŠ‚ç‚¹é€šçŸ¥ç»™clientç«¯(è¿™é‡Œé¢redisçš„clientç«¯ä¸€èˆ¬éƒ½å®ç°äº†è®¢é˜…åŠŸèƒ½ï¼Œè®¢é˜…sentinelå‘å¸ƒçš„èŠ‚ç‚¹å˜åŠ¨æ¶ˆæ¯)</p><p><strong>rediså“¨å…µæ¶æ„æ­å»ºæ­¥éª¤ï¼š</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>1ã€å¤åˆ¶ä¸€ä»½sentinel.confæ–‡ä»¶
cp sentinel.conf sentinel-26379.conf

2ã€å°†ç›¸å…³é…ç½®ä¿®æ”¹ä¸ºå¦‚ä¸‹å€¼ï¼š
port 26379
daemonize yes
pidfile &quot;/var/run/redis-sentinel-26379.pid&quot;
logfile &quot;26379.log&quot;
dir &quot;/usr/local/redis-5.0.3/data&quot;
# sentinel monitor &lt;master-redis-name&gt; &lt;master-redis-ip&gt; &lt;master-redis-port&gt; &lt;quorum&gt;
# quorumæ˜¯ä¸€ä¸ªæ•°å­—ï¼ŒæŒ‡æ˜å½“æœ‰å¤šå°‘ä¸ªsentinelè®¤ä¸ºä¸€ä¸ªmasterå¤±æ•ˆæ—¶(å€¼ä¸€èˆ¬ä¸ºï¼šsentinelæ€»æ•°/2 + 1)ï¼Œmasteræ‰ç®—çœŸæ­£å¤±æ•ˆ
sentinel monitor mymaster 192.168.0.60 6379 2   # mymasterè¿™ä¸ªåå­—éšä¾¿å–ï¼Œå®¢æˆ·ç«¯è®¿é—®æ—¶ä¼šç”¨åˆ°

3ã€å¯åŠ¨sentinelå“¨å…µå®ä¾‹
src/redis-sentinel sentinel-26379.conf

4ã€æŸ¥çœ‹sentinelçš„infoä¿¡æ¯
src/redis-cli -p 26379
127.0.0.1:26379&gt;info
å¯ä»¥çœ‹åˆ°Sentinelçš„infoé‡Œå·²ç»è¯†åˆ«å‡ºäº†redisçš„ä¸»ä»

5ã€å¯ä»¥è‡ªå·±å†é…ç½®ä¸¤ä¸ªsentinelï¼Œç«¯å£26380å’Œ26381ï¼Œæ³¨æ„ä¸Šè¿°é…ç½®æ–‡ä»¶é‡Œçš„å¯¹åº”æ•°å­—éƒ½è¦ä¿®æ”¹    
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>sentinelé›†ç¾¤éƒ½å¯åŠ¨å®Œæ¯•åï¼Œä¼šå°†å“¨å…µé›†ç¾¤çš„å…ƒæ•°æ®ä¿¡æ¯å†™å…¥æ‰€æœ‰sentinelçš„é…ç½®æ–‡ä»¶é‡Œå»(è¿½åŠ åœ¨æ–‡ä»¶çš„æœ€ä¸‹é¢)ï¼Œæˆ‘ä»¬æŸ¥çœ‹ä¸‹å¦‚ä¸‹é…ç½®æ–‡ä»¶sentinel-26379.confï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>sentinel known-replica mymaster 192.168.0.60 6380 #ä»£è¡¨redisä¸»èŠ‚ç‚¹çš„ä»èŠ‚ç‚¹ä¿¡æ¯
sentinel known-replica mymaster 192.168.0.60 6381 #ä»£è¡¨redisä¸»èŠ‚ç‚¹çš„ä»èŠ‚ç‚¹ä¿¡æ¯
sentinel known-sentinel mymaster 192.168.0.60 26380 52d0a5d70c1f90475b4fc03b6ce7c3c56935760f  #ä»£è¡¨æ„ŸçŸ¥åˆ°çš„å…¶å®ƒå“¨å…µèŠ‚ç‚¹
sentinel known-sentinel mymaster 192.168.0.60 26381 e9f530d3882f8043f76ebb8e1686438ba8bd5ca6  #ä»£è¡¨æ„ŸçŸ¥åˆ°çš„å…¶å®ƒå“¨å…µèŠ‚ç‚¹
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“redisä¸»èŠ‚ç‚¹å¦‚æœæŒ‚äº†ï¼Œå“¨å…µé›†ç¾¤ä¼šé‡æ–°é€‰ä¸¾å‡ºæ–°çš„redisä¸»èŠ‚ç‚¹ï¼ŒåŒæ—¶ä¼šä¿®æ”¹æ‰€æœ‰sentinelèŠ‚ç‚¹é…ç½®æ–‡ä»¶çš„é›†ç¾¤å…ƒæ•°æ®ä¿¡æ¯ï¼Œæ¯”å¦‚6379çš„rediså¦‚æœæŒ‚äº†ï¼Œå‡è®¾é€‰ä¸¾å‡ºçš„æ–°ä¸»èŠ‚ç‚¹æ˜¯6380ï¼Œåˆ™sentinelæ–‡ä»¶é‡Œçš„é›†ç¾¤å…ƒæ•°æ®ä¿¡æ¯ä¼šå˜æˆå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>sentinel known-replica mymaster 192.168.0.60 6379 #ä»£è¡¨ä¸»èŠ‚ç‚¹çš„ä»èŠ‚ç‚¹ä¿¡æ¯
sentinel known-replica mymaster 192.168.0.60 6381 #ä»£è¡¨ä¸»èŠ‚ç‚¹çš„ä»èŠ‚ç‚¹ä¿¡æ¯
sentinel known-sentinel mymaster 192.168.0.60 26380 52d0a5d70c1f90475b4fc03b6ce7c3c56935760f  #ä»£è¡¨æ„ŸçŸ¥åˆ°çš„å…¶å®ƒå“¨å…µèŠ‚ç‚¹
sentinel known-sentinel mymaster 192.168.0.60 26381 e9f530d3882f8043f76ebb8e1686438ba8bd5ca6  #ä»£è¡¨æ„ŸçŸ¥åˆ°çš„å…¶å®ƒå“¨å…µèŠ‚ç‚¹
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åŒæ—¶è¿˜ä¼šä¿®æ”¹sentinelæ–‡ä»¶é‡Œä¹‹å‰é…ç½®çš„mymasterå¯¹åº”çš„6379ç«¯å£ï¼Œæ”¹ä¸º6380</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>sentinel monitor mymaster 192.168.0.60 6380 2              
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å½“6379çš„rediså®ä¾‹å†æ¬¡å¯åŠ¨æ—¶ï¼Œå“¨å…µé›†ç¾¤æ ¹æ®é›†ç¾¤å…ƒæ•°æ®ä¿¡æ¯å°±å¯ä»¥å°†6379ç«¯å£çš„redisèŠ‚ç‚¹ä½œä¸ºä»èŠ‚ç‚¹åŠ å…¥é›†ç¾¤</p><p>å“¨å…µçš„Jedisè¿æ¥ä»£ç ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>public class JedisSentinelTest {
    public static void main(String[] args) throws IOException {

        JedisPoolConfig config = new JedisPoolConfig();
        config.setMaxTotal(20);
        config.setMaxIdle(10);
        config.setMinIdle(5);

        String masterName = &quot;mymaster&quot;;
        Set&lt;String&gt; sentinels = new HashSet&lt;String&gt;();
        sentinels.add(new HostAndPort(&quot;192.168.0.60&quot;,26379).toString());
        sentinels.add(new HostAndPort(&quot;192.168.0.60&quot;,26380).toString());
        sentinels.add(new HostAndPort(&quot;192.168.0.60&quot;,26381).toString());
        //JedisSentinelPoolå…¶å®æœ¬è´¨è·ŸJedisPoolç±»ä¼¼ï¼Œéƒ½æ˜¯ä¸redisä¸»èŠ‚ç‚¹å»ºç«‹çš„è¿æ¥æ± 
        //JedisSentinelPoolå¹¶ä¸æ˜¯è¯´ä¸sentinelå»ºç«‹çš„è¿æ¥æ± ï¼Œè€Œæ˜¯é€šè¿‡sentinelå‘ç°redisä¸»èŠ‚ç‚¹å¹¶ä¸å…¶å»ºç«‹è¿æ¥
        JedisSentinelPool jedisSentinelPool = new JedisSentinelPool(masterName, sentinels, config, 3000, null);
        Jedis jedis = null;
        try {
            jedis = jedisSentinelPool.getResource();
            System.out.println(jedis.set(&quot;sentinel&quot;, &quot;zhuge&quot;));
            System.out.println(jedis.get(&quot;sentinel&quot;));
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            //æ³¨æ„è¿™é‡Œä¸æ˜¯å…³é—­è¿æ¥ï¼Œåœ¨JedisPoolæ¨¡å¼ä¸‹ï¼ŒJedisä¼šè¢«å½’è¿˜ç»™èµ„æºæ± ã€‚
            if (jedis != null)
                jedis.close();
        }
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å“¨å…µçš„Spring Bootæ•´åˆRedisè¿æ¥ä»£ç è§ç¤ºä¾‹é¡¹ç›®ï¼šredis-sentinel-cluster</p><p>1ã€å¼•å…¥ç›¸å…³ä¾èµ–ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-data-redis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.commons<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>commons-pool2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>springbooté¡¹ç›®æ ¸å¿ƒé…ç½®ï¼š</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8080</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">redis</span><span class="token punctuation">:</span>
    <span class="token key atrule">database</span><span class="token punctuation">:</span> <span class="token number">0</span>
    <span class="token key atrule">timeout</span><span class="token punctuation">:</span> <span class="token number">3000</span>
    <span class="token key atrule">sentinel</span><span class="token punctuation">:</span>    <span class="token comment">#å“¨å…µæ¨¡å¼</span>
      <span class="token key atrule">master</span><span class="token punctuation">:</span> mymaster <span class="token comment">#ä¸»æœåŠ¡å™¨æ‰€åœ¨é›†ç¾¤åç§°</span>
     <span class="token key atrule">nodes</span><span class="token punctuation">:</span> 192.168.0.60<span class="token punctuation">:</span><span class="token number">26379</span><span class="token punctuation">,</span>192.168.0.60<span class="token punctuation">:</span><span class="token number">26380</span><span class="token punctuation">,</span>192.168.0.60<span class="token punctuation">:</span><span class="token number">26381</span>
   <span class="token key atrule">lettuce</span><span class="token punctuation">:</span>
      <span class="token key atrule">pool</span><span class="token punctuation">:</span>
        <span class="token key atrule">max-idle</span><span class="token punctuation">:</span> <span class="token number">50</span>
        <span class="token key atrule">min-idle</span><span class="token punctuation">:</span> <span class="token number">10</span>
        <span class="token key atrule">max-active</span><span class="token punctuation">:</span> <span class="token number">100</span>
        <span class="token key atrule">max-wait</span><span class="token punctuation">:</span> <span class="token number">1000</span>               
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è®¿é—®ä»£ç ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IndexController</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">IndexController</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">StringRedisTemplate</span> stringRedisTemplate<span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * æµ‹è¯•èŠ‚ç‚¹æŒ‚äº†å“¨å…µé‡æ–°é€‰ä¸¾æ–°çš„masterèŠ‚ç‚¹ï¼Œå®¢æˆ·ç«¯æ˜¯å¦èƒ½åŠ¨æ€æ„ŸçŸ¥åˆ°
     * æ–°çš„masteré€‰ä¸¾å‡ºæ¥åï¼Œå“¨å…µä¼šæŠŠæ¶ˆæ¯å‘å¸ƒå‡ºå»ï¼Œå®¢æˆ·ç«¯å®é™…ä¸Šæ˜¯å®ç°äº†ä¸€ä¸ªæ¶ˆæ¯ç›‘å¬æœºåˆ¶ï¼Œ
     * å½“å“¨å…µæŠŠæ–°masterçš„æ¶ˆæ¯å‘å¸ƒå‡ºå»ï¼Œå®¢æˆ·ç«¯ä¼šç«‹é©¬æ„ŸçŸ¥åˆ°æ–°masterçš„ä¿¡æ¯ï¼Œä»è€ŒåŠ¨æ€åˆ‡æ¢è®¿é—®çš„masterip
     *
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">InterruptedException</span></span>
     */</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/test_sentinel&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSentinel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                stringRedisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;zhuge&quot;</span><span class="token operator">+</span>i<span class="token punctuation">,</span> i<span class="token operator">+</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è®¾ç½®keyï¼š&quot;</span><span class="token operator">+</span> <span class="token string">&quot;zhuge&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
                i<span class="token operator">++</span><span class="token punctuation">;</span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
                logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;é”™è¯¯ï¼š&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>StringRedisTemplateä¸RedisTemplateè¯¦è§£</strong></p><p>spring å°è£…äº† RedisTemplate å¯¹è±¡æ¥è¿›è¡Œå¯¹redisçš„å„ç§æ“ä½œï¼Œå®ƒæ”¯æŒæ‰€æœ‰çš„ redis åŸç”Ÿçš„ apiã€‚åœ¨RedisTemplateä¸­æä¾›äº†å‡ ä¸ªå¸¸ç”¨çš„æ¥å£æ–¹æ³•çš„ä½¿ç”¨ï¼Œåˆ†åˆ«æ˜¯:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token class-name">ValueOperations</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> valueOps<span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token class-name">HashOperations</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> hashOps<span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token class-name">ListOperations</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> listOps<span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token class-name">SetOperations</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> setOps<span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token class-name">ZSetOperations</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> zSetOps<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>RedisTemplateä¸­å®šä¹‰äº†å¯¹5ç§æ•°æ®ç»“æ„æ“ä½œ</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>redisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ“ä½œå­—ç¬¦ä¸²</span>
redisTemplate<span class="token punctuation">.</span><span class="token function">opsForHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ“ä½œhash</span>
redisTemplate<span class="token punctuation">.</span><span class="token function">opsForList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ“ä½œlist</span>
redisTemplate<span class="token punctuation">.</span><span class="token function">opsForSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ“ä½œset</span>
redisTemplate<span class="token punctuation">.</span><span class="token function">opsForZSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ“ä½œæœ‰åºset    </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>StringRedisTemplateç»§æ‰¿è‡ªRedisTemplateï¼Œä¹Ÿä¸€æ ·æ‹¥æœ‰ä¸Šé¢è¿™äº›æ“ä½œã€‚</p><p>StringRedisTemplateé»˜è®¤é‡‡ç”¨çš„æ˜¯Stringçš„åºåˆ—åŒ–ç­–ç•¥ï¼Œä¿å­˜çš„keyå’Œvalueéƒ½æ˜¯é‡‡ç”¨æ­¤ç­–ç•¥åºåˆ—åŒ–ä¿å­˜çš„ã€‚</p><p>RedisTemplateé»˜è®¤é‡‡ç”¨çš„æ˜¯JDKçš„åºåˆ—åŒ–ç­–ç•¥ï¼Œä¿å­˜çš„keyå’Œvalueéƒ½æ˜¯é‡‡ç”¨æ­¤ç­–ç•¥åºåˆ—åŒ–ä¿å­˜çš„ã€‚</p><p><strong>Rediså®¢æˆ·ç«¯å‘½ä»¤å¯¹åº”çš„RedisTemplateä¸­çš„æ–¹æ³•åˆ—è¡¨ï¼š</strong></p><table><thead><tr><th><strong>Stringç±»å‹ç»“æ„</strong></th><th></th></tr></thead><tbody><tr><td>Redis</td><td>RedisTemplate rt</td></tr><tr><td>set key value</td><td>rt.opsForValue().set(&quot;key&quot;,&quot;value&quot;)</td></tr><tr><td>get key</td><td>rt.opsForValue().get(&quot;key&quot;)</td></tr><tr><td>del key</td><td>rt.delete(&quot;key&quot;)</td></tr><tr><td>strlen key</td><td>rt.opsForValue().size(&quot;key&quot;)</td></tr><tr><td>getset key value</td><td>rt.opsForValue().getAndSet(&quot;key&quot;,&quot;value&quot;)</td></tr><tr><td>getrange key start end</td><td>rt.opsForValue().get(&quot;key&quot;,start,end)</td></tr><tr><td>append key value</td><td>rt.opsForValue().append(&quot;key&quot;,&quot;value&quot;)</td></tr><tr><td></td><td></td></tr><tr><td><strong>Hashç»“æ„</strong></td><td></td></tr><tr><td>hmset key field1 value1 field2 value2...</td><td>rt.opsForHash().putAll(&quot;key&quot;,map) //mapæ˜¯ä¸€ä¸ªé›†åˆå¯¹è±¡</td></tr><tr><td>hset key field value</td><td>rt.opsForHash().put(&quot;key&quot;,&quot;field&quot;,&quot;value&quot;)</td></tr><tr><td>hexists key field</td><td>rt.opsForHash().hasKey(&quot;key&quot;,&quot;field&quot;)</td></tr><tr><td>hgetall key</td><td>rt.opsForHash().entries(&quot;key&quot;) //è¿”å›Mapå¯¹è±¡</td></tr><tr><td>hvals key</td><td>rt.opsForHash().values(&quot;key&quot;) //è¿”å›Listå¯¹è±¡</td></tr><tr><td>hkeys key</td><td>rt.opsForHash().keys(&quot;key&quot;) //è¿”å›Listå¯¹è±¡</td></tr><tr><td>hmget key field1 field2...</td><td>rt.opsForHash().multiGet(&quot;key&quot;,keyList)</td></tr><tr><td>hsetnx key field value</td><td>rt.opsForHash().putIfAbsent(&quot;key&quot;,&quot;field&quot;,&quot;value&quot;</td></tr><tr><td>hdel key field1 field2</td><td>rt.opsForHash().delete(&quot;key&quot;,&quot;field1&quot;,&quot;field2&quot;)</td></tr><tr><td>hget key field</td><td>rt.opsForHash().get(&quot;key&quot;,&quot;field&quot;)</td></tr><tr><td></td><td></td></tr><tr><td><strong>Listç»“æ„</strong></td><td></td></tr><tr><td>lpush list node1 node2 node3...</td><td>rt.opsForList().leftPush(&quot;list&quot;,&quot;node&quot;)</td></tr><tr><td>rt.opsForList().leftPushAll(&quot;list&quot;,list) //listæ˜¯é›†åˆå¯¹è±¡</td><td></td></tr><tr><td>rpush list node1 node2 node3...</td><td>rt.opsForList().rightPush(&quot;list&quot;,&quot;node&quot;)</td></tr><tr><td>rt.opsForList().rightPushAll(&quot;list&quot;,list) //listæ˜¯é›†åˆå¯¹è±¡</td><td></td></tr><tr><td>lindex key index</td><td>rt.opsForList().index(&quot;list&quot;, index)</td></tr><tr><td>llen key</td><td>rt.opsForList().size(&quot;key&quot;)</td></tr><tr><td>lpop key</td><td>rt.opsForList().leftPop(&quot;key&quot;)</td></tr><tr><td>rpop key</td><td>rt.opsForList().rightPop(&quot;key&quot;)</td></tr><tr><td>lpushx list node</td><td>rt.opsForList().leftPushIfPresent(&quot;list&quot;,&quot;node&quot;)</td></tr><tr><td>rpushx list node</td><td>rt.opsForList().rightPushIfPresent(&quot;list&quot;,&quot;node&quot;)</td></tr><tr><td>lrange list start end</td><td>rt.opsForList().range(&quot;list&quot;,start,end)</td></tr><tr><td>lrem list count value</td><td>rt.opsForList().remove(&quot;list&quot;,count,&quot;value&quot;)</td></tr><tr><td>lset key index value</td><td>rt.opsForList().set(&quot;list&quot;,index,&quot;value&quot;)</td></tr><tr><td></td><td></td></tr><tr><td><strong>Setç»“æ„</strong></td><td></td></tr><tr><td>sadd key member1 member2...</td><td>rt.boundSetOps(&quot;key&quot;).add(&quot;member1&quot;,&quot;member2&quot;,...)</td></tr><tr><td>rt.opsForSet().add(&quot;key&quot;, set) //setæ˜¯ä¸€ä¸ªé›†åˆå¯¹è±¡</td><td></td></tr><tr><td>scard key</td><td>rt.opsForSet().size(&quot;key&quot;)</td></tr><tr><td>sidff key1 key2</td><td>rt.opsForSet().difference(&quot;key1&quot;,&quot;key2&quot;) //è¿”å›ä¸€ä¸ªé›†åˆå¯¹è±¡</td></tr><tr><td>sinter key1 key2</td><td>rt.opsForSet().intersect(&quot;key1&quot;,&quot;key2&quot;)//åŒä¸Š</td></tr><tr><td>sunion key1 key2</td><td>rt.opsForSet().union(&quot;key1&quot;,&quot;key2&quot;)//åŒä¸Š</td></tr><tr><td>sdiffstore des key1 key2</td><td>rt.opsForSet().differenceAndStore(&quot;key1&quot;,&quot;key2&quot;,&quot;des&quot;)</td></tr><tr><td>sinter des key1 key2</td><td>rt.opsForSet().intersectAndStore(&quot;key1&quot;,&quot;key2&quot;,&quot;des&quot;)</td></tr><tr><td>sunionstore des key1 key2</td><td>rt.opsForSet().unionAndStore(&quot;key1&quot;,&quot;key2&quot;,&quot;des&quot;)</td></tr><tr><td>sismember key member</td><td>rt.opsForSet().isMember(&quot;key&quot;,&quot;member&quot;)</td></tr><tr><td>smembers key</td><td>rt.opsForSet().members(&quot;key&quot;)</td></tr><tr><td>spop key</td><td>rt.opsForSet().pop(&quot;key&quot;)</td></tr><tr><td>srandmember key count</td><td>rt.opsForSet().randomMember(&quot;key&quot;,count)</td></tr><tr><td>srem key member1 member2...</td><td>rt.opsForSet().remove(&quot;key&quot;,&quot;member1&quot;,&quot;member2&quot;,...)</td></tr></tbody></table></div><!----><footer class="page-meta"><!----><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: thejqd@gmail.com">jiangqingdong</span><!--]--><!--]--></div></div></footer><!----><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><!----><div class="copyright">Copyright Â© 2023 æ±Ÿ</div></footer></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app-6d45e392.js" defer></script>
  </body>
</html>
